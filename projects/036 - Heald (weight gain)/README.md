_This file is autogenerated. Please do not edit._

# First Episode Psychosis (FEP) and Weight Gain vs COVID-19 outcomees

## Summary

- We plan to investigate predictors of weight change and blood glucose change in people diagnosed with First Episode Psychosis (FEP) or starting treatment with an anti-psychotic agent.
- We will determine if there is any relation between weight change and the likelihood of becoming seriously unwell or dying after a COVID-19 infection for those with a previous diagnosis of FEP who were alive in January 2020.

## Table of contents

- [Introduction](#introduction)
- [Methodology](#methodology)
- [Reusable queries](#reusable-queries)
- [Clinical code sets](#clinical-code-sets)

## Introduction

The aim of this document is to provide full transparency for all parts of the data extraction process.
This includes:

- The methodology around how the data extraction process is managed and quality is maintained.
- A full list of all queries used in the extraction, and their associated objectives and assumptions.
- A full list of all clinical codes used for the extraction.

## Methodology

After each proposal is approved, a Research Data Engineer (RDE) works closely with the research team to establish precisely what data they require and in what format.
The RDE has access to the entire de-identified database and so builds up an expertise as to which projects are feasible and how best to extract the relevant data.
The RDE has access to a library of resusable SQL queries for common tasks, and sets of clinical codes for different phenotypes, built up from previous studies.
Prior to data extraction, the code is checked and signed off by another RDE.

## Reusable queries
  
This project required the following reusable queries:

- Secondary admissions and length of stay
- Secondary discharges
- Frailty score
- COVID vaccinations
- Townsend Score (2011)
- Lower level super output area
- Smoking status
- Sex
- Year of birth
- Patients with COVID

Further details for each query can be found below.

### Secondary admissions and length of stay
To obtain a table with every secondary care admission, along with the acute provider, the date of admission, the date of discharge, and the length of stay.

_Input_
```
One parameter
	-	all-patients: boolean - (true/false) if true, then all patients are included, otherwise only those in the pre-existing #Patients table.
```

_Output_
```
Two temp table as follows:
 #Admissions (FK_Patient_Link_ID, AdmissionDate, AcuteProvider)
 	- FK_Patient_Link_ID - unique patient id
	- AdmissionDate - date of admission (YYYY-MM-DD)
	- AcuteProvider - Bolton, SRFT, Stockport etc..
  (Limited to one admission per person per hospital per day, because if a patient has 2 admissions
   on the same day to the same hopsital then it's most likely data duplication rather than two short
   hospital stays)
 #LengthOfStay (FK_Patient_Link_ID, AdmissionDate)
 	- FK_Patient_Link_ID - unique patient id
	- AdmissionDate - date of admission (YYYY-MM-DD)
	- AcuteProvider - Bolton, SRFT, Stockport etc..
	- DischargeDate - date of discharge (YYYY-MM-DD)
	- LengthOfStay - Number of days between admission and discharge. 1 = [0,1) days, 2 = [1,2) days, etc.
```
_File_: `query-get-admissions-and-length-of-stay.sql`

_Link_: [https://github.com/rw251/.../query-get-admissions-and-length-of-stay.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-get-admissions-and-length-of-stay.sql)

---
### Secondary discharges
To obtain a table with every secondary care discharge, along with the acute provider, and the date of discharge.

_Input_
```
One parameter
	-	all-patients: boolean - (true/false) if true, then all patients are included, otherwise only those in the pre-existing #Patients table.
```

_Output_
```
A temp table as follows:
 #Discharges (FK_Patient_Link_ID, DischargeDate, AcuteProvider)
 	- FK_Patient_Link_ID - unique patient id
	- DischargeDate - date of discharge (YYYY-MM-DD)
	- AcuteProvider - Bolton, SRFT, Stockport etc..
  (Limited to one discharge per person per hospital per day, because if a patient has 2 discharges
   on the same day to the same hopsital then it's most likely data duplication rather than two short
   hospital stays)
```
_File_: `query-get-discharges.sql`

_Link_: [https://github.com/rw251/.../query-get-discharges.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-get-discharges.sql)

---
### Frailty score
To get the frailty score for each patient.

_Assumptions_

- Patient data is obtained from multiple sources. Where patients have multiple frailty scores we determine the frailty score as follows:
- If every frailty score is the same for a patient (ignoring nulls) then we use that
- If there is a single most recently updated frailty score in the database then we use that
- Otherwise we take the highest frailty score for the patient on the basis that frailty is unlikely to revers

_Input_
```
Assumes there exists a temp table as follows:
 #Patients (FK_Patient_Link_ID)
  A distinct list of FK_Patient_Link_IDs for each patient in the cohort
```

_Output_
```
A temp table as follows:
 #PatientFrailtyScore (FK_Patient_Link_ID, FrailtyScore)
 	- FK_Patient_Link_ID - unique patient id
	- FrailtyScore - FLOAT
```
_File_: `query-patient-frailty-score.sql`

_Link_: [https://github.com/rw251/.../query-patient-frailty-score.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-patient-frailty-score.sql)

---
### COVID vaccinations
To obtain a table with first, second, third... etc vaccine doses per patient.

_Assumptions_

- GP records can often be duplicated. The assumption is that if a patient receives two vaccines within 14 days of each other then it is likely that both codes refer to the same vaccine.
- The vaccine can appear as a procedure or as a medication. We assume that the presence of either represents a vaccination

_Input_
```
Takes two parameters:
	- gp-events-table: string - (table name) the name of the table containing the GP events. Usually is "RLS.vw_GP_Events" but can be anything with the columns: FK_Patient_Link_ID, EventDate, and SuppliedCode
	- gp-medications-table: string - (table name) the name of the table containing the GP medications. Usually is "RLS.vw_GP_Medications" but can be anything with the columns: FK_Patient_Link_ID, EventDate, and SuppliedCode
```

_Output_
```
A temp table as follows:
 #COVIDVaccinations (FK_Patient_Link_ID, VaccineDate, DaysSinceFirstVaccine)
 	- FK_Patient_Link_ID - unique patient id
	- VaccineDose1Date - date of first vaccine (YYYY-MM-DD)
	-	VaccineDose2Date - date of second vaccine (YYYY-MM-DD)
	-	VaccineDose3Date - date of third vaccine (YYYY-MM-DD)
	-	VaccineDose4Date - date of fourth vaccine (YYYY-MM-DD)
	-	VaccineDose5Date - date of fifth vaccine (YYYY-MM-DD)
	-	VaccineDose6Date - date of sixth vaccine (YYYY-MM-DD)
	-	VaccineDose7Date - date of seventh vaccine (YYYY-MM-DD)
```
_File_: `query-get-covid-vaccines.sql`

_Link_: [https://github.com/rw251/.../query-get-covid-vaccines.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-get-covid-vaccines.sql)

---
### Townsend Score (2011)
To get the 2011 Townsend score and quintile for each patient.

_Input_
```
Assumes there exists a temp table as follows:
 #Patients (FK_Patient_Link_ID)
  A distinct list of FK_Patient_Link_IDs for each patient in the cohort
```

_Output_
```
A temp table as follows:
 #PatientTownsend (FK_Patient_Link_ID, TownsendScoreHigherIsMoreDeprived, TownsendQuintileHigherIsMoreDeprived)
 	- FK_Patient_Link_ID - unique patient id
	- TownsendScoreHigherIsMoreDeprived - number range approx [-7,13]
	- TownsendQuintileHigherIsMoreDeprived - number 1 to 5 inclusive
```
_File_: `query-patient-townsend.sql`

_Link_: [https://github.com/rw251/.../query-patient-townsend.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-patient-townsend.sql)

---
### Lower level super output area
To get the LSOA for each patient.

_Assumptions_

- Patient data is obtained from multiple sources. Where patients have multiple LSOAs we determine the LSOA as follows:
- If the patients has an LSOA in their primary care data feed we use that as most likely to be up to date
- If every LSOA for a paitent is the same, then we use that
- If there is a single most recently updated LSOA in the database then we use that
- Otherwise the patient's LSOA is considered unknown

_Input_
```
Assumes there exists a temp table as follows:
 #Patients (FK_Patient_Link_ID)
  A distinct list of FK_Patient_Link_IDs for each patient in the cohort
```

_Output_
```
A temp table as follows:
 #PatientLSOA (FK_Patient_Link_ID, LSOA)
 	- FK_Patient_Link_ID - unique patient id
	- LSOA_Code - nationally recognised LSOA identifier
```
_File_: `query-patient-lsoa.sql`

_Link_: [https://github.com/rw251/.../query-patient-lsoa.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-patient-lsoa.sql)

---
### Smoking status
To get the smoking status for each patient in a cohort.

_Assumptions_

- We take the most recent smoking status in a patient's record to be correct
- However, there is likely confusion between the "non smoker" and "never smoked" codes. Especially as sometimes the synonyms for these codes overlap. Therefore, a patient wih a most recent smoking status of "never", but who has previous smoking codes, would be classed as WorstSmokingStatus=non-trivial-smoker / CurrentSmokingStatus=non-smoker

_Input_
```
Assumes there exists a temp table as follows:
 #Patients (FK_Patient_Link_ID)
  A distinct list of FK_Patient_Link_IDs for each patient in the cohort
 Also takes one parameter:
	- gp-events-table: string - (table name) the name of the table containing the GP events. Usually is "RLS.vw_GP_Events" but can be anything with the columns: FK_Patient_Link_ID, EventDate, FK_Reference_Coding_ID, and FK_Reference_SnomedCT_ID
```

_Output_
```
A temp table as follows:
 #PatientSmokingStatus (FK_Patient_Link_ID, PassiveSmoker, WorstSmokingStatus, CurrentSmokingStatus)
	- FK_Patient_Link_ID - unique patient id
	- PassiveSmoker - Y/N (whether a patient has ever had a code for passive smoking)
	- WorstSmokingStatus - [non-trivial-smoker/trivial-smoker/non-smoker]
	- CurrentSmokingStatus - [non-trivial-smoker/trivial-smoker/non-smoker]
```
_File_: `query-patient-smoking-status.sql`

_Link_: [https://github.com/rw251/.../query-patient-smoking-status.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-patient-smoking-status.sql)

---
### Sex
To get the Sex for each patient.

_Assumptions_

- Patient data is obtained from multiple sources. Where patients have multiple sexes we determine the sex as follows:
- If the patients has a sex in their primary care data feed we use that as most likely to be up to date
- If every sex for a patient is the same, then we use that
- If there is a single most recently updated sex in the database then we use that
- Otherwise the patient's sex is considered unknown

_Input_
```
Assumes there exists a temp table as follows:
 #Patients (FK_Patient_Link_ID)
  A distinct list of FK_Patient_Link_IDs for each patient in the cohort
```

_Output_
```
A temp table as follows:
 #PatientSex (FK_Patient_Link_ID, Sex)
 	- FK_Patient_Link_ID - unique patient id
	- Sex - M/F
```
_File_: `query-patient-sex.sql`

_Link_: [https://github.com/rw251/.../query-patient-sex.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-patient-sex.sql)

---
### Year of birth
To get the year of birth for each patient.

_Assumptions_

- Patient data is obtained from multiple sources. Where patients have multiple YOBs we determine the YOB as follows:
- If the patients has a YOB in their primary care data feed we use that as most likely to be up to date
- If every YOB for a patient is the same, then we use that
- If there is a single most recently updated YOB in the database then we use that
- Otherwise we take the highest YOB for the patient that is not in the future

_Input_
```
Assumes there exists a temp table as follows:
 #Patients (FK_Patient_Link_ID)
  A distinct list of FK_Patient_Link_IDs for each patient in the cohort
```

_Output_
```
A temp table as follows:
 #PatientYearOfBirth (FK_Patient_Link_ID, YearOfBirth)
 	- FK_Patient_Link_ID - unique patient id
	- YearOfBirth - INT
```
_File_: `query-patient-year-of-birth.sql`

_Link_: [https://github.com/rw251/.../query-patient-year-of-birth.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-patient-year-of-birth.sql)

---
### Patients with COVID
To get tables of all patients with a COVID diagnosis in their record. This now includes a table that has reinfections. This uses a 90 day cut-off to rule out patients that get multiple tests for a single infection. This 90 day cut-off is also used in the government COVID dashboard. In the first wave, prior to widespread COVID testing, and prior to the correct clinical codes being	available to clinicians, infections were recorded in a variety of ways. We therefore take the first diagnosis from any code indicative of COVID. However, for subsequent infections we insist on the presence of a positive COVID test (PCR or antigen) as opposed to simply a diagnosis code. This is to avoid the situation where a hospital diagnosis code gets entered into the primary care record several months after the actual infection.

_Input_
```
Takes three parameters
  - start-date: string - (YYYY-MM-DD) the date to count diagnoses from. Usually this should be 2020-01-01.
	-	all-patients: boolean - (true/false) if true, then all patients are included, otherwise only those in the pre-existing #Patients table.
	- gp-events-table: string - (table name) the name of the table containing the GP events. Usually is "RLS.vw_GP_Events" but can be anything with the columns: FK_Patient_Link_ID, EventDate, and SuppliedCode
```

_Output_
```
Three temp tables as follows:
 #CovidPatients (FK_Patient_Link_ID, FirstCovidPositiveDate)
 	- FK_Patient_Link_ID - unique patient id
	- FirstCovidPositiveDate - earliest COVID diagnosis
 #CovidPatientsAllDiagnoses (FK_Patient_Link_ID, CovidPositiveDate)
 	- FK_Patient_Link_ID - unique patient id
	- CovidPositiveDate - any COVID diagnosis
 #CovidPatientsMultipleDiagnoses
	-	FK_Patient_Link_ID - unique patient id
	-	FirstCovidPositiveDate - date of first COVID diagnosis
	-	SecondCovidPositiveDate - date of second COVID diagnosis
	-	ThirdCovidPositiveDate - date of third COVID diagnosis
	-	FourthCovidPositiveDate - date of fourth COVID diagnosis
	-	FifthCovidPositiveDate - date of fifth COVID diagnosis
```
_File_: `query-patients-with-covid.sql`

_Link_: [https://github.com/rw251/.../query-patients-with-covid.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-patients-with-covid.sql)
## Clinical code sets

This project required the following clinical code sets:

- bipolar v2
- schizophrenia-psychosis v2
- history-of-bipolar v1
- antipsychotics v1
- history-of-psychosis-or-schizophrenia v1
- amisulpride v1
- aripiprazole v1
- asenapine v1
- chlorpromazine v1
- clozapine v1
- flupentixol v1
- fluphenazine v1
- haloperidol v1
- levomepromazine v1
- loxapine v1
- lurasidone v1
- olanzapine v1
- paliperidone v1
- perphenazine v1
- pimozide v1
- quetiapine v1
- risperidone v1
- sertindole v1
- sulpiride v1
- thioridazine v1
- trifluoperazine v1
- zotepine v1
- zuclopenthixol v1
- bmi v2
- hba1c v2
- cholesterol v2
- ldl-cholesterol v1
- hdl-cholesterol v1
- vitamin-d v1
- testosterone v1
- sex-hormone-binding-globulin v1
- egfr v1
- weight v1
- systolic-blood-pressure v1
- diastolic-blood-pressure v1
- height v1
- triglycerides v1
- alkaline-phosphatase v1
- blood-glucose-level v1
- fasting-glucose v1
- c-reactive-protein v1
- lymphocyte-count v1
- neutrophil-count v1
- covid-positive-antigen-test v1
- covid-positive-pcr-test v1
- covid-positive-test-other v1
- smoking-status-current v1
- smoking-status-currently-not v1
- smoking-status-ex v1
- smoking-status-ex-trivial v1
- smoking-status-never v1
- smoking-status-passive v1
- smoking-status-trivial v1
- covid-vaccination v1
- copd v1
- asthma v1
- hypertension v1
- amitriptyline v1
- buspirone v1
- clomipramine v1
- dosulepin v1
- doxepin v1
- duloxetine v1
- escitalopram v1
- imipramine v1
- isocarboxazid v1
- lofepramine v1
- mianserin v1
- mirtazapine v1
- moclobemide v1
- nortriptyline v1
- paroxetine v1
- phenelzine v1
- pregabalin v1
- reboxetine v1
- sertraline v1
- tranylcypromine v1
- trazodone-hydrochloride v1
- trimipramine v1
- venlafaxine v1
- vortioxetine v1
- carbamazepine v1
- lithium v1
- valproic-acid v1
- sodium-valproate v1
- cetirizine-hydrochloride v1
- chlorphenamine v1
- cinnarizine v1
- cyclizine v1
- desloratadine v1
- fexofenadine v1
- icatibant v1
- ipratropium-bromide v1
- levocetirizine v1
- loratadine v1
- mizolastine v1
- promethazine v1
- salbutamol v1
- betamethasone v1
- dexamethasone v1
- fludrocortisone-acetate v1
- hydrocortisone v1
- prednisolone v1
- beclometasone v1
- budesonide v1
- deflazacort v1
- methylprednisolone v1
- desogestrel v1
- etonogestrel v1
- levonorgestrel v1
- medroxyprogesterone v1
- norethisterone v1
- insulin v1
- acarbose v1
- alogliptin v1
- canagliflozin v1
- dapagliflozin v1
- dulaglutide v1
- empagliflozin v1
- exenatide v1
- gliclazide v1
- glimepiride v1
- glipizide v1
- linagliptin v1
- liraglutide v1
- lixisenatide v1
- metformin v1
- pioglitazone v1
- repaglinide v1
- saxagliptin v1
- sitagliptin v1
- tolbutamide v1
- vildagliptin v1

Further details for each code set can be found below.

### Bipolar

Code set for patients with a diagnosis of bipolar or mania. This code set (v2) only includes diagnoses and so is useful for identifying the first diagnosis of bipolar. This differs from (v1) which also includes "history of" codes and certain medications that would indicate a patient has bipolar, which is better suited for identifying patients with bipolar, but not necessarily their first diagnosis.

Developed from https://phenotypes.healthdatagateway.org/phenotypes/PH38/version/76/detail/.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. Prevalence range: 0.40% - 0.50% when using the code seems reasonable.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------- | ----------------- |
| 2022-06-28 | EMIS            | 2664831    | 8234 (0.31%)     | 13009 (0.49%)     |
| 2022-06-28 | TPP             | 212907     | 553 (0.26%)      | 1069 (0.50%)      |
| 2022-06-28 | Vision          | 343146     | 987 (0.29%)      | 1362 (0.40%)      |

LINK: [https://github.com/rw251/.../conditions/bipolar/2](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/bipolar/2)

### Schizophrenia and Psychosis

Code set for patients with a diagnosis of psychosis or schizophrenia. This code set (v2) is a fairly strict definition of psychosis/schizophrenia and ignores codes relating to drug-induced/alcohol-induced psychosis. For a wider definition please use v1.

Developed from https://phenotypes.healthdatagateway.org/phenotypes/PH673/version/1346/detail/ and reviewed by a clinician.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions.
Here is a log for this code set. The prevalence range (1.10% - 1.90%)

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------- | ----------------- |
| 2022-06-28 | EMIS            | 2664831    | 12637 (0.47%)    | 13011 ( 0.49%)    |
| 2022-06-28 | TPP             | 212907     | 46 (0.02%)       | 1484 ( 0.70%)     |
| 2022-06-28 | Vision          | 343146     | 1487 (0.43%)     | 1490 ( 0.43%)     |

LINK: [https://github.com/rw251/.../conditions/schizophrenia-psychosis/2](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/schizophrenia-psychosis/2)

### History of bipolar affective disorder

Any code that indicates a patient has a history of bipolar. This includes "history of" codes, but also codes like "bipolar resolved".
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. The prevalence range `0.01% - 0.01%` suggests this codeset is likely well defined, but that it is a code not in frequent usage.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------- | ----------------- |
| 2022-06-28 | EMIS            | 2664831    | 289 (0.01%)      | 344 (0.01%)       |
| 2022-06-28 | TPP             | 212907     | 24 (0.01%)       | 28 (0.01%)        |
| 2022-06-28 | Vision          | 343146     | 48 (0.01%)       | 50 (0.01%)        |

LINK: [https://github.com/rw251/.../patient/history-of-bipolar/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/history-of-bipolar/1)

### Antipychotics

Code set for prescriptions of antipsychotic medication.

Developed from https://clinicalcodes.rss.mhs.man.ac.uk/medcodes/article/53/
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. 
Here is a log for this code set. The prevalence range `3.10% - 3.78%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-07-20 | EMIS            | 2616446    |    81113 (3.10%) |     81141 (3.10%) |
| 2021-07-20 | TPP             | 211414     |     6642 (3.14%) |      7995 (3.78%) |
| 2021-07-20 | Vision          | 336776     |    10600 (3.15%) |     10600 (3.15%) |

LINK: [https://github.com/rw251/.../medications/antipsychotics/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/antipsychotics/1)

### History of psychosis or schizophrenia

Any code that indicates a patient has a history of psychosis or schizophrenia. This includes "history of" codes.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. The prevalence range `0.06% - 0.11%` suggests this codeset is likely well defined, but that it is a code not in frequent usage.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------- | ----------------- |
| 2022-06-28 | EMIS            | 2664831    | 1573 (0.06%)     | 1603 (0.06%)      |
| 2022-06-28 | TPP             | 212907     | 152 (0.07%)      | 164 (0.08%)       |
| 2022-06-28 | Vision          | 343146     | 384 (0.11%)      | 383 (0.11%)       |

LINK: [https://github.com/rw251/.../patient/history-of-psychosis-or-schizophrenia/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/history-of-psychosis-or-schizophrenia/1)

### Amisulpride
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.09% - 0.11%` suggests this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |     2550 (0.10%) |      2550 (0.10%) |
| 2022-03-24 | TPP             | 212645     |      242 (0.11%) |       242 (0.11%) |
| 2022-03-24 | Vision          | 341667     |      316 (0.09%) |       316 (0.09%) |

LINK: [https://github.com/rw251/.../medications/amisulpride/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/amisulpride/1)

### Aripiprazole
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.33% - 0.39%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |    10441 (0.39%) |     10441 (0.39%) |
| 2022-03-24 | TPP             | 212645     |      721 (0.34%) |       721 (0.34%) |
| 2022-03-24 | Vision          | 341667     |     1111 (0.33%) |      1111 (0.33%) |

LINK: [https://github.com/rw251/.../medications/aripiprazole/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/aripiprazole/1)

### Asenapine
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0% - 0.00029%` suggests that this drug is not used in UK primary care - though it could be because of a deficiency in the code set.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |     3 (0.00011%) |      3 (0.00011%) |
| 2022-03-24 | TPP             | 212645     |           0 (0%) |            0 (0%) |
| 2022-03-24 | Vision          | 341667     |     1 (0.00029%) |      1 (0.00029%) |

LINK: [https://github.com/rw251/.../medications/asenapine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/asenapine/1)

### Chlorpromazine
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.18% - 0.31%` is possibly not sufficiently narrow to guarantee that this code set is well defined. However EMIS and TPP are very similar. There may be missing codes used by the Vision practices, or a skewed population which lead to a bias whereby the GM Vision practices prescribe this drug less frequently.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |     7808 (0.29%) |      7808 (0.29%) |
| 2022-03-24 | TPP             | 212645     |      653 (0.31%) |       653 (0.31%) |
| 2022-03-24 | Vision          | 341667     |      619 (0.18%) |       619 (0.18%) |

LINK: [https://github.com/rw251/.../medications/chlorpromazine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/chlorpromazine/1)

### Clozapine
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.03% - 0.06%` is possibly not sufficiently narrow to guarantee that this code set is well defined. However this is likely because of the small numbers involved.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |     1580 (0.06%) |      1580 (0.06%) |
| 2022-03-24 | TPP             | 212645     |       68 (0.03%) |        68 (0.03%) |
| 2022-03-24 | Vision          | 341667     |      135 (0.04%) |       135 (0.04%) |

LINK: [https://github.com/rw251/.../medications/clozapine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/clozapine/1)

### Flupentixol
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.36% - 1.11%` is possibly not sufficiently narrow to guarantee that this code set is well defined. There may be missing codes for the EMIS and Vision practices.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |    14752 (0.55%) |     14752 (0.55%) |
| 2022-03-24 | TPP             | 212645     |     2365 (1.11%) |      2365 (1.11%) |
| 2022-03-24 | Vision          | 341667     |     1242 (0.36%) |      1242 (0.36%) |

LINK: [https://github.com/rw251/.../medications/flupentixol/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/flupentixol/1)

### Fluphenazine
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.03% - 0.05%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |     1397 (0.05%) |      1397 (0.05%) |
| 2022-03-24 | TPP             | 212645     |       64 (0.03%) |        64 (0.03%) |
| 2022-03-24 | Vision          | 341667     |      141 (0.04%) |       141 (0.04%) |

LINK: [https://github.com/rw251/.../medications/fluphenazine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/fluphenazine/1)

### Haloperidol
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.14% - 0.20%` suggests that this code set is well defined. Though the Vision practices are perhaps slighly on the low side, though this could be due to the small numbers.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |     5151 (0.19%) |      5151 (0.19%) |
| 2022-03-24 | TPP             | 212645     |      422 (0.20%) |       422 (0.20%) |
| 2022-03-24 | Vision          | 341667     |      478 (0.14%) |       478 (0.14%) |

LINK: [https://github.com/rw251/.../medications/haloperidol/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/haloperidol/1)

### Levomepromazine
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.07% - 0.13%` is possibly not sufficiently narrow to guarantee that this code set is well defined. However, EMIS and Vision are very close, so the elevated TPP figure is likely due to the small numbers.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |     1920 (0.07%) |      1920 (0.07%) |
| 2022-03-24 | TPP             | 212645     |      269 (0.13%) |       269 (0.13%) |
| 2022-03-24 | Vision          | 341667     |      314 (0.09%) |       314 (0.09%) |

LINK: [https://github.com/rw251/.../medications/levomepromazine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/levomepromazine/1)

### Loxapine
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.0006% - 0.0015%` suggests that this drug is not prescribed in UK primary care.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |     15 (0.0006%) |      15 (0.0006%) |
| 2022-03-24 | TPP             | 212645     |      3 (0.0014%) |       3 (0.0014%) |
| 2022-03-24 | Vision          | 341667     |      5 (0.0015%) |       5 (0.0015%) |

LINK: [https://github.com/rw251/.../medications/loxapine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/loxapine/1)

### Lurasidone
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.0014% - 0.0040%` is possibly not sufficiently narrow to guarantee that this code set is well defined. However this is likely due to the extremely small numbers, which also suggest that this is not used in UK primary care.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |    106 (0.0040%) |     106 (0.0040%) |
| 2022-03-24 | TPP             | 212645     |      3 (0.0014%) |       3 (0.0014%) |
| 2022-03-24 | Vision          | 341667     |     13 (0.0038%) |      13 (0.0038%) |

LINK: [https://github.com/rw251/.../medications/lurasidone/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/lurasidone/1)

### Olanzapine
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.55% - 0.58%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |    15515 (0.58%) |     15515 (0.58%) |
| 2022-03-24 | TPP             | 212645     |     1175 (0.55%) |      1175 (0.55%) |
| 2022-03-24 | Vision          | 341667     |     1899 (0.56%) |      1899 (0.56%) |

LINK: [https://github.com/rw251/.../medications/olanzapine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/olanzapine/1)

### Paliperidone
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.004% - 0.013%` is possibly not sufficiently narrow to guarantee that this code set is well defined. However this is likely due to the very small numbers, which also suggest that this is not used in UK general practice.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |     346 (0.013%) |      346 (0.013%) |
| 2022-03-24 | TPP             | 212645     |      14 (0.007%) |       14 (0.007%) |
| 2022-03-24 | Vision          | 341667     |      12 (0.004%) |       12 (0.004%) |

LINK: [https://github.com/rw251/.../medications/paliperidone/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/paliperidone/1)

### Perphenazine
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.03% - 0.09%` is possibly not sufficiently narrow to guarantee that this code set is well defined. However, this may be due to the small numbers involved.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |     2336 (0.09%) |      2336 (0.09%) |
| 2022-03-24 | TPP             | 212645     |      113 (0.05%) |       113 (0.05%) |
| 2022-03-24 | Vision          | 341667     |       99 (0.03%) |        99 (0.03%) |

LINK: [https://github.com/rw251/.../medications/perphenazine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/perphenazine/1)

### Pimozide
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.004% - 0.010%` is possibly not sufficiently narrow to guarantee that this code set is well defined. However this is likely due to the very small numbers, which also suggest that this is not used in UK general practice.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |     108 (0.004%) |      108 (0.004%) |
| 2022-03-24 | TPP             | 212645     |      12 (0.006%) |       12 (0.006%) |
| 2022-03-24 | Vision          | 341667     |      33 (0.010%) |       33 (0.010%) |

LINK: [https://github.com/rw251/.../medications/pimozide/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/pimozide/1)

### Quetiapine
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.66% - 0.78%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |    19994 (0.75%) |     19994 (0.75%) |
| 2022-03-24 | TPP             | 212645     |     1669 (0.78%) |      1669 (0.78%) |
| 2022-03-24 | Vision          | 341667     |     2271 (0.66%) |      2271 (0.66%) |

LINK: [https://github.com/rw251/.../medications/quetiapine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/quetiapine/1)

### Risperidone
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.34% - 0.44%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |    11761 (0.44%) |     11761 (0.44%) |
| 2022-03-24 | TPP             | 212645     |      733 (0.34%) |       733 (0.34%) |
| 2022-03-24 | Vision          | 341667     |     1477 (0.43%) |      1477 (0.43%) |

LINK: [https://github.com/rw251/.../medications/risperidone/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/risperidone/1)

### Sertindole
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.0002% - 0.0014%` is possibly not sufficiently narrow to guarantee that this code set is well defined. However this is likely due to the very small numbers, which also suggest that this is not used in UK general practice.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |     10 (0.0003%) |      10 (0.0003%) |
| 2022-03-24 | TPP             | 212645     |      3 (0.0014%) |       3 (0.0014%) |
| 2022-03-24 | Vision          | 341667     |      1 (0.0002%) |       1 (0.0002%) |

LINK: [https://github.com/rw251/.../medications/sertindole/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/sertindole/1)

### Sulpiride
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.04% - 0.06%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |     1278 (0.05%) |      1278 (0.05%) |
| 2022-03-24 | TPP             | 212645     |      108 (0.05%) |       108 (0.05%) |
| 2022-03-24 | Vision          | 341667     |      199 (0.06%) |       199 (0.06%) |

LINK: [https://github.com/rw251/.../medications/sulpiride/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/sulpiride/1)

### Thioridazine
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.10% - 0.24%` is possibly not sufficiently narrow to guarantee that this code set is well defined. There may be missing CTV3 codes for the TPP practices, and Readv2 for the Vision practices.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |     6437 (0.24%) |      6437 (0.24%) |
| 2022-03-24 | TPP             | 212645     |      314 (0.15%) |       314 (0.15%) |
| 2022-03-24 | Vision          | 341667     |      355 (0.10%) |       355 (0.10%) |

LINK: [https://github.com/rw251/.../medications/thioridazine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/thioridazine/1)

### Trifluoperazine
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.09% - 0.16%` is possibly not sufficiently narrow to guarantee that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |     4260 (0.16%) |      4260 (0.16%) |
| 2022-03-24 | TPP             | 212645     |      189 (0.09%) |       189 (0.09%) |
| 2022-03-24 | Vision          | 341667     |      361 (0.11%) |       361 (0.11%) |

LINK: [https://github.com/rw251/.../medications/trifluoperazine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/trifluoperazine/1)

### Zotepine
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.0007% - 0.0014%` is possibly not sufficiently narrow to guarantee that this code set is well defined. However this is likely due to the very small numbers, which also suggest that this is not used in UK general practice.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-14 | EMIS            | 2658708    |     18 (0.0007%) |      18 (0.0007%) |
| 2022-03-14 | TPP             | 212645     |      3 (0.0014%) |       3 (0.0014%) |
| 2022-03-14 | Vision          | 341667     |      2 (0.0006%) |       2 (0.00056) |

LINK: [https://github.com/rw251/.../medications/zotepine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/zotepine/1)

### Zuclopenthixol
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.052% - 0.066%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |    1759 (0.066%) |     1759 (0.066%) |
| 2022-03-24 | TPP             | 212645     |     116 (0.055%) |      116 (0.055%) |
| 2022-03-24 | Vision          | 341667     |     176 (0.052%) |      176 (0.052%) |

LINK: [https://github.com/rw251/.../medications/zuclopenthixol/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/zuclopenthixol/1)

### Body Mass Index (BMI)

A patient's BMI as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (`22K.. - Body Mass Index`). It does not include codes that indicate a patient's BMI (`22K6. - Body mass index less than 20`) without giving the actual value.

**NB: This code set is intended to indicate a patient's BMI. If you need to know whether a BMI was recorded then please use v1 of the code set.**
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `63.96% - 79.69%` suggests that this code set is perhaps not well defined. However, as EMIS (80% of practices) and TPP (10% of practices) are close, it could simply be down to Vision automatically recording BMIs and therefore increasing the prevalence there.

**UPDATE** By looking at the prevalence of patients with a BMI code that also has a non-zero value the range becomes `62.48% - 64.93%` which suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-07 | EMIS            | 2605681    | 1709250 (65.60%) |  1709224 (65.60%) |
| 2021-05-07 | TPP             | 210817     |  134841 (63.96%) |   134835 (63.96%) |
| 2021-05-07 | Vision          | 334632     |  266612 (79.67%) |   266612 (79.67%) |
| 2021-05-11 | EMIS            | 2606497    | 1692442 (64.93%) |  1692422 (64.93%) |
| 2021-05-11 | TPP             | 210810     |  134652 (63.87%) |   134646 (63.87%) |
| 2021-05-11 | Vision          | 334784     |  209175 (62.48%) |   209175 (62.48%) |

LINK: [https://github.com/rw251/.../patient/bmi/2](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/bmi/2)

### HbA1c

A patient's HbA1c as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (`1003671000000109 - Haemoglobin A1c level`). It does not include codes that indicate a patient's BMI (`165679005 - Haemoglobin A1c (HbA1c) less than 7%`) without giving the actual value.

**NB: This code set is intended to indicate a patient's HbA1c. If you need to know whether a HbA1c was recorded then please use v1 of the code set.**
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `44.93% - 50.88%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-07 | EMIS            | 2605681    | 1170688 (44.93%) |  1170688 (44.93%) |
| 2021-05-07 | TPP             | 210817     |   98972 (46.95%) |    98972 (46.95%) |
| 2021-05-07 | Vision          | 334632     |  170245 (50.88%) |   170245 (50.88%) |

LINK: [https://github.com/rw251/.../tests/hba1c/2](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/hba1c/2)

### Cholesterol

A patient's total cholesterol as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (`44P.. Serum cholesterol`). It does not include codes that indicate a patient's BMI (`44P3. - Serum cholesterol raised`) without giving the actual value.

**NB: This code set is intended to indicate a patient's total cholesterol. If you need to know whether a cholesterol was recorded then please use v1 of the code set.**
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `43.99% - 49.34%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-11 | EMIS            | 2606497    | 1146925 (44.00%) |  1146651 (43.99%) |
| 2021-05-11 | TPP             | 210810     |   98627 (46.78%) |    98627 (46.78%) |
| 2021-05-11 | Vision          | 334784     |  165186 (49.34%) |   165186 (49.34%) |

LINK: [https://github.com/rw251/.../tests/cholesterol/2](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/cholesterol/2)

### LDL Cholesterol

A patient's LDL cholesterol as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (`44P6.00 - Serum LDL cholesterol level`).
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `41.22% - 45.54%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-10-13 | EMIS            | 26929848   | 1102872 (41.94%) |  1102872 (41.94%) |
| 2021-10-13 | TPP             | 211812     |   91673 (43.28%) |    91673 (43.28%) |
| 2021-10-13 | Vision          | 338205     |  154055 (45.55%) |   154055 (45.55%) |

LINK: [https://github.com/rw251/.../tests/ldl-cholesterol/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/ldl-cholesterol/1)

### HDL Cholesterol

A patient's HDL cholesterol as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (`44P5.00 - Serum HDL cholesterol level`).
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `43.66% - 48.97%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-10-13 | EMIS            | 26929848   | 1168326 (44.42%) |  1168326 (44.42%) |
| 2021-10-13 | TPP             | 211812     |  100823 (47.60%) |   100823 (47.60%) |
| 2021-10-13 | Vision          | 338205     |  165935 (49.06%) |   165935 (49.06%) |

LINK: [https://github.com/rw251/.../tests/hdl-cholesterol/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/hdl-cholesterol/1)

### Vitamin D

A patient's vitamin D level as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (`44P6.00 - Serum LDL cholesterol level`). This only includes codes for total vitamin D level and does not use codes that measure a patient's D2 or D3 levels.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `4.30% - 14.10%` suggests that this code set is not well defined and there are TPP codes that are missing.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-11 | EMIS            | 2606497    |  282971 (10.86%) |   282971 (10.86%) |
| 2021-05-11 | TPP             | 210810     |     9056 (4.30%) |      9056 (4.30%) |
| 2021-05-11 | Vision          | 334784     |   47198 (14.10%) |    47198 (14.10%) |

LINK: [https://github.com/rw251/.../tests/vitamin-d/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/vitamin-d/1)

### Testosterone (level)

A patient's testosterone level as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (`4473.00 - Serum testosterone`). It does not include codes that indicate a patient's testosterone level (`4473100 - Serum testosterone level abnormal`) without giving the actual value.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `4.91% - 6.24%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-11 | EMIS            | 2606497    |   137971 (5.29%) |    137971 (5.29%) |
| 2021-05-11 | TPP             | 210810     |    10359 (4.91%) |     10359 (4.91%) |
| 2021-05-11 | Vision          | 334784     |    20903 (6.24%) |     20903 (6.24%) |

LINK: [https://github.com/rw251/.../tests/testosterone/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/testosterone/1)

### SHBG (sex hormone binding globin)

A patient's SHBG level as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (`44CD.00 - Serum sex hormone binding globulin level`).
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `2.57% - 3.72%` suggests that this code set is perhaps not well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-07 | EMIS            | 2606497    |    87601 (3.36%) |     87601 (3.36%) |
| 2021-05-07 | TPP             | 210810     |     5424 (2.57%) |      5424 (2.57%) |
| 2021-05-07 | Vision          | 334784     |    12465 (3.72%) |     12465 (3.72%) |

LINK: [https://github.com/rw251/.../tests/sex-hormone-binding-globulin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/sex-hormone-binding-globulin/1)

### Glomerular filtration rate (GFR)

Any code that gives the value of a patient's GFR (or estimated GFR - EGFR).
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `52.43% - 57.73%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-06-10 | EMIS            | 2610073    | 1369349 (52.46%) |  1368468 (52.43%) |
| 2021-06-10 | TPP             | 211034     |  121897 (57.76%) |   121835 (57.73%) |
| 2021-06-10 | Vision          | 335344     |  184635 (55.06%) |   184523 (55.02%) |

LINK: [https://github.com/rw251/.../tests/egfr/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/egfr/1)

### Weight

A patient's weight as recorded via clinical code and value. This code set only includes codes that are accompanied by a value.

Codes taken from https://www.medrxiv.org/content/medrxiv/suppl/2020/05/19/2020.05.14.20101626.DC1/2020.05.14.20101626-1.pdf
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `73.09% - 79.68%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-10-13 | EMIS            | 26929848   | 2054449 (78.12%) |  2053717 (78.09%) |
| 2021-10-13 | TPP             | 211812     |  154813 (73.09%) |   154813 (73.09%) |
| 2021-10-13 | Vision          | 338205     |  269496 (79.68%) |   269496 (79.68%) |
LINK: [https://github.com/rw251/.../patient/weight/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/weight/1)

### Systolic Blood pressure

Any indication that systolic blood pressure has been recorded for a patient. This code set only includes codes that are accompanied by a value (`2469. - O/E - Systolic BP reading`).

Blood pressure codes retrieved from [GetSet](https://getset.ga) and metadata available in this directory.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `64.46% - 67.00%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-10-13 | EMIS            | 26929848   | 1741342 (66.21%) |  1741342 (66.21%) |
| 2021-10-13 | TPP             | 211812     |  137571 (64.95%) |   137571 (64.95%) |
| 2021-10-13 | Vision          | 338205     |  208971 (61.79%) |   208971 (61.79%) |
LINK: [https://github.com/rw251/.../tests/systolic-blood-pressure/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/systolic-blood-pressure/1)

### Diastolic Blood pressure

Any diastolic blood pressure measurements, with values, that have been recorded for a patient.

Blood pressure codes retrieved from [GetSet](https://getset.ga) and metadata available in this directory.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `64.46% - 67.00%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-10-13 | EMIS            | 26929848   | 1741082 (66.21%) |  1741077 (66.21%) |
| 2021-10-13 | TPP             | 211812     |  137567 (64.95%) |   137567 (64.95%) |
| 2021-10-13 | Vision          | 338205     |  208958 (61.79%) |   208958 (61.79%) |
LINK: [https://github.com/rw251/.../tests/diastolic-blood-pressure/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/diastolic-blood-pressure/1)

### Height

A patient's height as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (`229.. - O/E - Height`).

Codes taken from https://www.medrxiv.org/content/medrxiv/suppl/2020/05/19/2020.05.14.20101626.DC1/2020.05.14.20101626-1.pdf
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `66.10% - 72.59%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-10-13 | EMIS            | 26929848   | 1885015 (71.68%) |  1884110 (71.64%) |
| 2021-10-13 | TPP             | 211812     |  140013 (66.10%) |   140013 (66.10%) |
| 2021-10-13 | Vision          | 338205     |  245440 (72.59%) |   245440 (72.57%) |
LINK: [https://github.com/rw251/.../patient/height/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/height/1)

### Triglyceride (level)

A patient's triglyceride level as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (`44Q..00 - Serum triglycerides`). It does not include codes that indicate a patient's creatinine (`44Q3.00 - Serum triglycerides raised') without giving the actual value.

Codes taken from: https://www.medrxiv.org/content/medrxiv/suppl/2020/05/19/2020.05.14.20101626.DC1/2020.05.14.20101626-1.pdf
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `43.18% - 48.34%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-10-13 | EMIS            | 26929848   | 1135572 (43.18%) |  1135572 (43.18%) |
| 2021-10-13 | TPP             | 211812     |   99188 (46.82%) |    99188 (46.82%) |
| 2021-10-13 | Vision          | 338205     |  163502 (48.34%) |   163502 (48.34%) |

LINK: [https://github.com/rw251/.../tests/triglycerides/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/triglycerides/1)

### Alkaline phosphatase

This code set includes codes that only includes codes that are accompanied by a value (e.g. `44FZ.00 - Serum alkaline phosphatase NOS`).

Codes retrieved from: https://www.medrxiv.org/content/medrxiv/suppl/2020/05/19/2020.05.14.20101626.DC1/2020.05.14.20101626-1.pdf
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `%57.02 - 60.44%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-21 | EMIS            | 2658131    | 1515677 (57.02%) |  1515677 (57.02%) |
| 2022-03-21 | TPP             | 212662     |  128534 (60.44%) |   128534 (60.44%) |
| 2022-03-21 | Vision          | 341594     |  204911 (59.99%) |   204911 (59.99%) |


LINK: [https://github.com/rw251/.../tests/alkaline-phosphatase/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/alkaline-phosphatase/1)

### Blood glucose level

A patient's blood glucose as recorded via clinical code and value. This does not include _fasting glucose_ which is in a separate code set.

Codes were retrieved from https://getset.ga.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `4.76% - 5.92%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-17 | EMIS            | 2662570    |   153786 (5.78%) |    153786 (5.78%) |
| 2022-06-17 | TPP             | 212696     |    12595 (5.92%) |     12595 (5.92%) |
| 2022-06-17 | Vision          | 342344     |    16291 (4.76%) |     16291 (4.76%) |

LINK: [https://github.com/rw251/.../tests/blood-glucose-level/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/blood-glucose-level/1)

### Fasting glucose level

A patient's fasting glucose as recorded via clinical code and value. This does not include non-fasting blood glucose which is in a separate code set.

Codes were retrieved from https://getset.ga.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range by code `21.6% - 25.8%` suggests this is probably well defined. TPP is a bit high, but EMIS and VISION (>90% GM) are very similar, suggesting the higher prevalence in the TPP practices is an artefact of how often those practices get people to take fasting glucose tests.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-07-05 | EMIS            | 2664831    |     585156 (22%) |      586162 (22%) |
| 2022-07-05 | TPP             | 212907     |      57478 (27%) |     54891 (25.8%) |
| 2022-07-05 | Vision          | 343146     |    74116 (21.6%) |     74131 (21.6%) |

LINK: [https://github.com/rw251/.../tests/fasting-glucose/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/fasting-glucose/1)

### C-reactive protein (CRP)

A patient's c-reactive protein (CRP) as recorded via clinical code and value.

Codes were retrieved from https://getset.ga.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `31.5% - 32.3%` for EMIS and TPP practices suggests that this code set is likely well defined. Vision (`37.6%`) is slightly higher.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-17 | EMIS            | 2662570    |   840004 (31.5%) |    840004 (31.5%) |
| 2022-06-17 | TPP             | 212696     |    68695 (32.3%) |     68695 (32.3%) |
| 2022-06-17 | Vision          | 342344     |   128570 (37.6%) |    128570 (37.6%) |

LINK: [https://github.com/rw251/.../tests/c-reactive-protein/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/c-reactive-protein/1)

### Lymphocyte count

A patient's lymphocyte count as recorded via clinical code and value.

Codes were retrieved from https://getset.ga.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `59.3% - 61.9%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-17 | EMIS            | 2662570    |  1580103 (59.3%) |   1580103 (59.3%) |
| 2022-06-17 | TPP             | 212696     |   131748 (61.9%) |    131748 (61.9%) |
| 2022-06-17 | Vision          | 342344     |   210709 (61.5%) |    210709 (61.5%) |

LINK: [https://github.com/rw251/.../tests/lymphocyte-count/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/lymphocyte-count/1)

### Neutrophil count

A patient's neutrophil count as recorded via clinical code and value.

Codes were retrieved from https://getset.ga.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `59.4% - 61.9%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-17 | EMIS            | 2662570    |  1581125 (59.4%) |   1581125 (59.4%) |
| 2022-06-17 | TPP             | 212696     |   131755 (61.9%) |    131755 (61.9%) |
| 2022-06-17 | Vision          | 342344     |   210821 (61.6%) |    210821 (61.6%) |

LINK: [https://github.com/rw251/.../tests/neutrophil-count/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/neutrophil-count/1)

### COVID-19 positive antigen test

A code that indicates that a person has a positive antigen test for COVID-19.
#### COVID positive tests in primary care

The codes used in primary care to indicate a positive COVID test can be split into 3 types: antigen test, PCR test and other. We keep these as separate code sets. However due to the way that COVID diagnoses are recorded in different ways in different GP systems, and because some codes are ambiguous, currently it only makes sense to group these 3 code sets together. Therefore the prevalence log below is for the combined code sets of `covid-positive-antigen-test`, `covid-positive-pcr-test` and `covid-positive-test-other`.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `18.6% - 20.5%` suggests that this code set is likely well defined. _NB - this code set needs to rely on the SuppliedCode in the database rather than the foreign key ids._

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-02-25 | EMIS            | 2656041    |   152972 (5.76%) |    545759 (20.5%) |
| 2022-02-25 | TPP             | 212453     |      256 (0.12%) |     39503 (18.6%) |
| 2022-02-25 | Vision          | 341354     |     9440 (2.77%) |     65963 (19.3%) |

LINK: [https://github.com/rw251/.../tests/covid-positive-antigen-test/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/covid-positive-antigen-test/1)

### COVID-19 positive pcr test

A code that indicates that a person has a positive pcr test for COVID-19.
#### COVID positive tests in primary care

The codes used in primary care to indicate a positive COVID test can be split into 3 types: antigen test, PCR test and other. We keep these as separate code sets. However due to the way that COVID diagnoses are recorded in different ways in different GP systems, and because some codes are ambiguous, currently it only makes sense to group these 3 code sets together. Therefore the prevalence log below is for the combined code sets of `covid-positive-antigen-test`, `covid-positive-pcr-test` and `covid-positive-test-other`.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `18.6% - 20.5%` suggests that this code set is likely well defined. _NB - this code set needs to rely on the SuppliedCode in the database rather than the foreign key ids._

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-02-25 | EMIS            | 2656041    |   152972 (5.76%) |    545759 (20.5%) |
| 2022-02-25 | TPP             | 212453     |      256 (0.12%) |     39503 (18.6%) |
| 2022-02-25 | Vision          | 341354     |     9440 (2.77%) |     65963 (19.3%) |

LINK: [https://github.com/rw251/.../tests/covid-positive-pcr-test/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/covid-positive-pcr-test/1)

### COVID-19 positive test - other

A code that indicates that a person has a positive test for COVID-19, but where the type of test (antigen or PCR) is unknown.
#### COVID positive tests in primary care

The codes used in primary care to indicate a positive COVID test can be split into 3 types: antigen test, PCR test and other. We keep these as separate code sets. However due to the way that COVID diagnoses are recorded in different ways in different GP systems, and because some codes are ambiguous, currently it only makes sense to group these 3 code sets together. Therefore the prevalence log below is for the combined code sets of `covid-positive-antigen-test`, `covid-positive-pcr-test` and `covid-positive-test-other`.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `18.6% - 20.5%` suggests that this code set is likely well defined. _NB - this code set needs to rely on the SuppliedCode in the database rather than the foreign key ids._

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-02-25 | EMIS            | 2656041    |   152972 (5.76%) |    545759 (20.5%) |
| 2022-02-25 | TPP             | 212453     |      256 (0.12%) |     39503 (18.6%) |
| 2022-02-25 | Vision          | 341354     |     9440 (2.77%) |     65963 (19.3%) |

LINK: [https://github.com/rw251/.../tests/covid-positive-test-other/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/covid-positive-test-other/1)

### Smoking status current

Any code suggestive that a patient is a current smoker.

LINK: [https://github.com/rw251/.../patient/smoking-status-current/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/smoking-status-current/1)

### Smoking status currently not

Any code suggestive that a patient is currently a non-smoker. This is different to the "never smoked" code set.

LINK: [https://github.com/rw251/.../patient/smoking-status-currently-not/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/smoking-status-currently-not/1)

### Smoking status ex

Any code suggestive that a patient is an ex-smoker.

LINK: [https://github.com/rw251/.../patient/smoking-status-ex/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/smoking-status-ex/1)


LINK: [https://github.com/rw251/.../patient/smoking-status-ex-trivial/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/smoking-status-ex-trivial/1)

### Smoking status never

Any code suggestive that a patient has never smoked. This is different to the "currently not" code set.

LINK: [https://github.com/rw251/.../patient/smoking-status-never/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/smoking-status-never/1)


LINK: [https://github.com/rw251/.../patient/smoking-status-passive/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/smoking-status-passive/1)


LINK: [https://github.com/rw251/.../patient/smoking-status-trivial/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/smoking-status-trivial/1)

#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.

The discrepancy between the patients counted when using the IDs vs using the clinical codes is due to these being new codes which haven't all filtered through to the main Graphnet dictionary. The prevalence range `1.19% - 26.55%` as of 11th March 2021 is too wide. However the prevalence figure of 26.55% from EMIS is close to public data and is likely ok.

**UPDATE - 25th March 2021** Missing Read and CTV3 codes were added to the vaccination list and now the range of `26.91% - 32.96%` seems reasonable. It should be noted that there is an approx 2 week lag between events occurring and them being entered in the record.

**UPDATE - 12th April 2021**, latest prevalence figures.

**UPDATE - 18th March 2022** There are now new codes for things like 3rd/4th/booster dose of vaccine. The latest prevalence shows `65.0% - 66.3%` have at least one vaccine code in the GP_Events table, and `88.2% - 93.6%` have at least one code for the vaccine in the GP_Medications table.

MED

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-12 | EMIS            | 2606497    |           0 (0%) |    379577(14.56%) |
| 2021-05-12 | TPP             | 210810     |           0 (0%) |       1637(0.78%) |
| 2021-05-12 | Vision          | 334784     |           0 (0%) |         93(0.03%) |
| 2022-03-18 | EMIS            | 2658131    |  1750506 (65.9%) |    1763420(66.3%) |
| 2022-03-18 | TPP             | 212662     |      8207 (3.9%) |     138285(65.0%) |
| 2022-03-18 | Vision          | 341594     |   122060 (35.7%) |     225844(66.1%) |

EVENT

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-12 | EMIS            | 2606497    |     4446 (0.17%) |  1101577 (42.26%) |
| 2021-05-12 | TPP             | 210810     |        7 (0.00%) |    87841 (41.66%) |
| 2021-05-12 | Vision          | 334784     |        1 (0.00%) |   142724 (42.63%) |
| 2022-03-18 | EMIS            | 2658131    |  2486786 (93.6%) |   1676951 (63.1%) |
| 2022-03-18 | TPP             | 212662     |   187463 (88.2%) |      7314 (3.44%) |
| 2022-03-18 | Vision          | 341594     |   312617 (91.5%) |     62512 (18.3%) |

LINK: [https://github.com/rw251/.../procedures/covid-vaccination/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/procedures/covid-vaccination/1)

### COPD

Any suggestion of a diagnosis of COPD.

Developed from https://getset.ga.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `2.10% - 2.33%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-07 | EMIS            | 2605681    |    54668 (2.10%) |     54669 (2.10%) |
| 2021-05-07 | TPP             | 210817     |     4537 (2.15%) |      4538 (2.15%) |
| 2021-05-07 | Vision          | 334632     |     7789 (2.33%) |      7789 (2.33%) |

LINK: [https://github.com/rw251/.../conditions/copd/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/copd/1)

### Asthma

This code set was originally created for the SMASH safe medication dashboard and has been validated in practice.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `12.14% - 13.37%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-11 | EMIS            | 2606497    |  335219 (12.86%) |   335223 (12.86%) |
| 2021-05-11 | TPP             | 210810     |   25596 (12.14%) |    25596 (12.14%) |
| 2021-05-11 | Vision          | 334784     |   44764 (13.37%) |    44764 (13.37%) |

LINK: [https://github.com/rw251/.../conditions/asthma/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/asthma/1)

### Hypertension

Any diagnosis of hypertension. Excludes hypertension in pregnancy, gestational hyptertension, pre-eclampsia. Based on the QOF code sets for hypertension.

Developed from https://getset.ga.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `12.55% - 12.95%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-07-14 | EMIS            | 2615750    |  328350 (12.55%) |  328339 ( 12.55%) |
| 2021-07-14 | TPP             | 211345     |   27363 (12.95%) |   27362 ( 12.95%) |
| 2021-07-14 | Vision          | 336528     |   43389 (12.89%) |   43389 ( 12.89%) |

LINK: [https://github.com/rw251/.../conditions/hypertension/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/hypertension/1)

### Amitriptyline

Category: "antidepressants".

Any prescription of amitriptyline.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `11.2% - 14.4%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |   298158 (11.2%) |    310707 (11.7%) |
| 2022-06-28 | TPP             | 212907     |    30661 (14.4%) |     31657 (14.9%) |
| 2022-06-28 | Vision          | 343146     |    40318 (11.7%) |     41443 (12.1%) |

LINK: [https://github.com/rw251/.../medications/amitriptyline/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/amitriptyline/1)

### Buspirone

Category: "antidepressants".

Any prescription of buspirone.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.46% - 0.63%` suggests that this code set is perhaps not well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    12272 (0.46%) |     12650 (0.47%) |
| 2022-06-28 | TPP             | 212907     |     1333 (0.63%) |      1500 (0.70%) |
| 2022-06-28 | Vision          | 343146     |     1564 (0.46%) |      1606 (0.47%) |

LINK: [https://github.com/rw251/.../medications/buspirone/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/buspirone/1)

### Clomipramine

Category: "antidepressants".

Any prescription of clomipramine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.24% - 0.39%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |     6265 (0.24%) |      6570 (0.25%) |
| 2022-06-28 | TPP             | 212907     |      575 (0.27%) |       594 (0.28%) |
| 2022-06-28 | Vision          | 343146     |     1323 (0.39%) |      1350 (0.39%) |

LINK: [https://github.com/rw251/.../medications/clomipramine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/clomipramine/1)

### Dosulepin

Category: "antidepressants".

Any prescription of dosulepin.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `1.87% - 2.26%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    49761 (1.87%) |     51839 (1.95%) |
| 2022-06-28 | TPP             | 212907     |     4802 (2.26%) |      5019 (2.36%) |
| 2022-06-28 | Vision          | 343146     |     6717 (1.96%) |      6969 (2.03%) |

LINK: [https://github.com/rw251/.../medications/dosulepin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/dosulepin/1)

### Doxepin

Category: "antidepressants".

Any prescription of doxepin.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.05% - 0.15%` suggests that this code set is not well defined. However EMIS and Vision (>90% GM) are very similar.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |     1542 (0.06%) |      1596 (0.06%) |
| 2022-06-28 | TPP             | 212907     |      315 (0.15%) |       317 (0.15%) |
| 2022-06-28 | Vision          | 343146     |      163 (0.05%) |       167 (0.05%) |

LINK: [https://github.com/rw251/.../medications/doxepin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/doxepin/1)

### Duloxetine

Category: "antidepressants".

Any prescription of duloxetine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `1.61% - 1.81%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    42999 (1.61%) |     44794 (1.68%) |
| 2022-06-28 | TPP             | 212907     |     3858 (1.81%) |      4291 (2.02%) |
| 2022-06-28 | Vision          | 343146     |     5733 (1.67%) |      5806 (1.69%) |

LINK: [https://github.com/rw251/.../medications/duloxetine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/duloxetine/1)

### Escitalopram

Category: "antidepressants".

Any prescription of escitalopram.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `1.40% - 1.54%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    41009 (1.54%) |     42880 (1.61%) |
| 2022-06-28 | TPP             | 212907     |     2987 (1.40%) |      3110 (1.46%) |
| 2022-06-28 | Vision          | 343146     |     5166 (1.51%) |      5306 (1.55%) |

LINK: [https://github.com/rw251/.../medications/escitalopram/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/escitalopram/1)

### Imipramine

Category: "antidepressants".

Any prescription of imipramine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.16% - 0.26%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |     6575 (0.25%) |      6920 (0.26%) |
| 2022-06-28 | TPP             | 212907     |      346 (0.16%) |       357 (0.17%) |
| 2022-06-28 | Vision          | 343146     |      907 (0.26%) |       958 (0.28%) |

LINK: [https://github.com/rw251/.../medications/imipramine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/imipramine/1)

### Isocarboxazid

Category: "antidepressants".

Any prescription of isocarboxazid.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.00% - 0.00%` suggests that this code set is well defined, but virtually non-existant in primary care.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |        1 (0.00%) |         1 (0.00%) |
| 2022-06-28 | TPP             | 212907     |        1 (0.00%) |         1 (0.00%) |
| 2022-06-28 | Vision          | 343146     |        6 (0.00%) |         6 (0.00%) |

LINK: [https://github.com/rw251/.../medications/isocarboxazid/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/isocarboxazid/1)

### Lofepramine

Category: "antidepressants".

Any prescription of lofepramine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.40% - 0.57%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    12334 (0.46%) |     12746 (0.48%) |
| 2022-06-28 | TPP             | 212907     |     1203 (0.57%) |      1228 (0.58%) |
| 2022-06-28 | Vision          | 343146     |     1369 (0.40%) |      1399 (0.41%) |

LINK: [https://github.com/rw251/.../medications/lofepramine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/lofepramine/1)

### Mianserin

Category: "antidepressants".

Any prescription of mianserin.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.01% - 0.01%` suggests that this code set is well defined, but infrequently used.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |      356 (0.01%) |       391 (0.01%) |
| 2022-06-28 | TPP             | 212907     |       17 (0.01%) |        17 (0.01%) |
| 2022-06-28 | Vision          | 343146     |       47 (0.01%) |        48 (0.01%) |

LINK: [https://github.com/rw251/.../medications/mianserin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/mianserin/1)

### Mirtazapine

Category: "antidepressants".

Any prescription of mirtazapine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `5.32% - 7.38%` suggests that this code set is perhaps not well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |   153061 (5.74%) |    161254 (6.05%) |
| 2022-06-28 | TPP             | 212907     |    15718 (7.38%) |     16989 (7.98%) |
| 2022-06-28 | Vision          | 343146     |    18268 (5.32%) |     18813 (5.48%) |

LINK: [https://github.com/rw251/.../medications/mirtazapine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/mirtazapine/1)

### Moclobemide

Category: "antidepressants".

Any prescription of moclobemide.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.02% - 0.03%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |      645 (0.02%) |       669 (0.03%) |
| 2022-06-28 | TPP             | 212907     |       64 (0.03%) |        64 (0.03%) |
| 2022-06-28 | Vision          | 343146     |       58 (0.02%) |        58 (0.02%) |

LINK: [https://github.com/rw251/.../medications/moclobemide/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/moclobemide/1)

### Nortriptyline

Category: "antidepressants".

Any prescription of nortriptyline.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `1.12% - 1.34%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    35576 (1.34%) |     36747 (1.38%) |
| 2022-06-28 | TPP             | 212907     |     2390 (1.12%) |      2481 (1.17%) |
| 2022-06-28 | Vision          | 343146     |     3882 (1.13%) |      3960 (1.15%) |

LINK: [https://github.com/rw251/.../medications/nortriptyline/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/nortriptyline/1)

### Paroxetine

Category: "antidepressants".

Any prescription of paroxetine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `1.81% - 2.10%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    51795 (1.94%) |     54087 (2.03%) |
| 2022-06-28 | TPP             | 212907     |     4481 (2.10%) |      4654 (2.19%) |
| 2022-06-28 | Vision          | 343146     |     6228 (1.81%) |      6455 (1.88%) |

LINK: [https://github.com/rw251/.../medications/paroxetine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/paroxetine/1)

### Phenelzine

Category: "antidepressants".

Any prescription of phenelzine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.01% - 0.01%` suggests that this code set is well defined, but infrequently used.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |      188 (0.01%) |       196 (0.01%) |
| 2022-06-28 | TPP             | 212907     |       26 (0.01%) |        27 (0.01%) |
| 2022-06-28 | Vision          | 343146     |       20 (0.01%) |        21 (0.01%) |

LINK: [https://github.com/rw251/.../medications/phenelzine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/phenelzine/1)

### Pregabalin

Category: "antidepressants".

Any prescription of pregabalin.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `3.11% - 3.95%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    85148 (3.20%) |     88816 (3.33%) |
| 2022-06-28 | TPP             | 212907     |     8403 (3.95%) |      9440 (4.43%) |
| 2022-06-28 | Vision          | 343146     |    10672 (3.11%) |     10813 (3.15%) |

LINK: [https://github.com/rw251/.../medications/pregabalin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/pregabalin/1)

### Reboxetine

Category: "antidepressants".

Any prescription of reboxetine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.05% - 0.06%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |     1348 (0.05%) |      1405 (0.05%) |
| 2022-06-28 | TPP             | 212907     |      137 (0.06%) |       140 (0.07%) |
| 2022-06-28 | Vision          | 343146     |      167 (0.05%) |       170 (0.05%) |

LINK: [https://github.com/rw251/.../medications/reboxetine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/reboxetine/1)

### Sertraline

Category: "antidepressants".

Any prescription of sertraline.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `10.7% - 13.5%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |   286333 (10.7%) |    301890 (11.3%) |
| 2022-06-28 | TPP             | 212907     |    28691 (13.5%) |     30520 (14.3%) |
| 2022-06-28 | Vision          | 343146     |    39451 (11.5%) |     40835 (11.9%) |

LINK: [https://github.com/rw251/.../medications/sertraline/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/sertraline/1)

### Tranylcypromine

Category: "antidepressants".

Any prescription of tranylcypromine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.00% - 0.00%` suggests that this code set is well defined, but infrequently used.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |       64 (0.00%) |        68 (0.00%) |
| 2022-06-28 | TPP             | 212907     |        7 (0.00%) |         7 (0.00%) |
| 2022-06-28 | Vision          | 343146     |       11 (0.00%) |        11 (0.00%) |

LINK: [https://github.com/rw251/.../medications/tranylcypromine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/tranylcypromine/1)

### Trazodone-hydrochloride

Category: "antidepressants".

Any prescription of trazodone-hydrochloride.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.57% - 1.05%` suggests that this code set is not well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    18010 (0.68%) |     18825 (0.71%) |
| 2022-06-28 | TPP             | 212907     |     2238 (1.05%) |      2411 (1.13%) |
| 2022-06-28 | Vision          | 343146     |     1964 (0.57%) |      2008 (0.59%) |

LINK: [https://github.com/rw251/.../medications/trazodone-hydrochloride/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/trazodone-hydrochloride/1)

### Trimipramine

Category: "antidepressants".

Any prescription of trimipramine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.06% - 0.23%` suggests that this code set is not well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |     1794 (0.07%) |      1879 (0.07%) |
| 2022-06-28 | TPP             | 212907     |      120 (0.06%) |       122 (0.06%) |
| 2022-06-28 | Vision          | 343146     |      785 (0.23%) |       808 (0.24%) |

LINK: [https://github.com/rw251/.../medications/trimipramine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/trimipramine/1)

### Venlafaxine

Category: "antidepressants".

Any prescription of venlafaxine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `1.95% - 2.24%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    52063 (1.95%) |     54694 (2.05%) |
| 2022-06-28 | TPP             | 212907     |     4771 (2.24%) |      5219 (2.45%) |
| 2022-06-28 | Vision          | 343146     |     7349 (2.14%) |      7537 (2.20%) |

LINK: [https://github.com/rw251/.../medications/venlafaxine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/venlafaxine/1)

### Vortioxetine

Category: "antidepressants".

Any prescription of vortioxetine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.03% - 0.05%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |      919 (0.03%) |       960 (0.04%) |
| 2022-06-28 | TPP             | 212907     |      116 (0.05%) |       136 (0.06%) |
| 2022-06-28 | Vision          | 343146     |      132 (0.04%) |       132 (0.04%) |

LINK: [https://github.com/rw251/.../medications/vortioxetine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/vortioxetine/1)

### Carbamazepine

Category: "mood-stabilizers".

Any prescription of carbamazepine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.88% - 1.07%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    23498 (0.88%) |     24641 (0.92%) |
| 2022-06-28 | TPP             | 212907     |     2282 (1.07%) |      2442 (1.15%) |
| 2022-06-28 | Vision          | 343146     |     3520 (1.03%) |      3617 (1.05%) |

LINK: [https://github.com/rw251/.../medications/carbamazepine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/carbamazepine/1)

### Lithium
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.06% - 0.09%` suggests the code set is well defined across systems, however the prevalence seems low and may need checking.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-04-29 | EMIS            | 2661707    |  	2433 (0.09%)   |   	2433 (0.09%)   |
| 2022-04-29 | TPP             | 212737     |    128 (0.06%)   |     130 (0.06%)   |
| 2022-04-29 | Vision          | 342156     |    201 (0.06%)   |   	 201 (0.06%)   |

LINK: [https://github.com/rw251/.../medications/lithium/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/lithium/1)

### Valproic-acid

Category: "mood-stabilizers".

Any prescription of valproic-acid.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.01% - 0.01%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |      235 (0.01%) |       244 (0.01%) |
| 2022-06-28 | TPP             | 212907     |       22 (0.01%) |        27 (0.01%) |
| 2022-06-28 | Vision          | 343146     |       47 (0.01%) |        47 (0.01%) |

LINK: [https://github.com/rw251/.../medications/valproic-acid/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/valproic-acid/1)

### Sodium-valproate

Category: "mood-stabilizers".

Any prescription of sodium-valproate.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.60% - 0.64%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    16613 (0.62%) |     17538 (0.66%) |
| 2022-06-28 | TPP             | 212907     |     1360 (0.64%) |      1547 (0.73%) |
| 2022-06-28 | Vision          | 343146     |     2066 (0.60%) |      2113 (0.62%) |

LINK: [https://github.com/rw251/.../medications/sodium-valproate/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/sodium-valproate/1)

### Cetirizine-hydrochloride

Category: "antihistamines".

Any prescription of cetirizine-hydrochloride.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `12.8% - 14.3%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |   373379 (14.0%) |    404063 (15.2%) |
| 2022-06-28 | TPP             | 212907     |    30387 (14.3%) |     30932 (14.5%) |
| 2022-06-28 | Vision          | 343146     |    43781 (12.8%) |     46114 (13.4%) |

LINK: [https://github.com/rw251/.../medications/cetirizine-hydrochloride/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/cetirizine-hydrochloride/1)


LINK: [https://github.com/rw251/.../medications/chlorphenamine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/chlorphenamine/1)

### Cinnarizine

Category: "antihistamines".

Any prescription of cinnarizine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `1.03% - 1.27%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    27470 (1.03%) |     28308 (1.06%) |
| 2022-06-28 | TPP             | 212907     |     2609 (1.23%) |      2649 (1.24%) |
| 2022-06-28 | Vision          | 343146     |     4368 (1.27%) |      4471 (1.30%) |

LINK: [https://github.com/rw251/.../medications/cinnarizine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/cinnarizine/1)

### Cyclizine

Category: "antihistamines".

Any prescription of cyclizine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `3.50% - 3.55%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    94346 (3.54%) |     97509 (3.66%) |
| 2022-06-28 | TPP             | 212907     |     7548 (3.55%) |      7644 (3.59%) |
| 2022-06-28 | Vision          | 343146     |    11999 (3.50%) |     12335 (3.59%) |

LINK: [https://github.com/rw251/.../medications/cyclizine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/cyclizine/1)

### Desloratadine

Category: "antihistamines".

Any prescription of desloratadine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `2.21% - 3.24%` suggests that this code set may be well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    64154 (2.41%) |     67810 (2.54%) |
| 2022-06-28 | TPP             | 212907     |     6898 (3.24%) |      6957 (3.27%) |
| 2022-06-28 | Vision          | 343146     |     7582 (2.21%) |      7991 (2.33%) |

LINK: [https://github.com/rw251/.../medications/desloratadine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/desloratadine/1)

### Fexofenadine

Category: "antihistamines".

Any prescription of fexofenadine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `6.29% - 6.68%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |   170060 (6.38%) |    177780 (6.67%) |
| 2022-06-28 | TPP             | 212907     |    14231 (6.68%) |     14698 (6.90%) |
| 2022-06-28 | Vision          | 343146     |    21578 (6.29%) |     22432 (6.54%) |

LINK: [https://github.com/rw251/.../medications/fexofenadine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/fexofenadine/1)

### Icatibant

Category: "antihistamines".

Any prescription of icatibant.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.00% - 0.0%` suggests that this code set is well defined, but virtually non-existant in primary care.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |        3 (0.00%) |         3 (0.00%) |
| 2022-06-28 | TPP             | 212907     |           0 (0%) |            0 (0%) |
| 2022-06-28 | Vision          | 343146     |           0 (0%) |            0 (0%) |

LINK: [https://github.com/rw251/.../medications/icatibant/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/icatibant/1)

### Ipratropium-bromide

Category: "antihistamines".

Any prescription of ipratropium-bromide.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.15% - 0.49%` suggests that this code set is not well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |     6339 (0.24%) |      6517 (0.24%) |
| 2022-06-28 | TPP             | 212907     |      322 (0.15%) |       328 (0.15%) |
| 2022-06-28 | Vision          | 343146     |     1680 (0.49%) |      1712 (0.50%) |

LINK: [https://github.com/rw251/.../medications/ipratropium-bromide/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/ipratropium-bromide/1)

### Levocetirizine

Category: "antihistamines".

Any prescription of levocetirizine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.85% - 1.35%` suggests that this code set is not well defined. However, the EMIS and Vision (>90% GM) figures are very similar.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    22520 (0.85%) |     23785 (0.89%) |
| 2022-06-28 | TPP             | 212907     |     2866 (1.35%) |      2898 (1.36%) |
| 2022-06-28 | Vision          | 343146     |     3089 (0.90%) |      3199 (0.93%) |

LINK: [https://github.com/rw251/.../medications/levocetirizine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/levocetirizine/1)

### Loratadine

Category: "antihistamines".

Any prescription of loratadine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `8.23% - 11.3%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |   235636 (8.84%) |    252376 (9.47%) |
| 2022-06-28 | TPP             | 212907     |    24028 (11.3%) |     24331 (11.4%) |
| 2022-06-28 | Vision          | 343146     |    28228 (8.23%) |     30091 (8.77%) |

LINK: [https://github.com/rw251/.../medications/loratadine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/loratadine/1)

### Mizolastine

Category: "antihistamines".

Any prescription of mizolastine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.10% - 0.26%` suggests that this code set is perhaps not well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |     4849 (0.18%) |      5099 (0.19%) |
| 2022-06-28 | TPP             | 212907     |      212 (0.10%) |       220 (0.10%) |
| 2022-06-28 | Vision          | 343146     |      895 (0.26%) |       936 (0.27%) |

LINK: [https://github.com/rw251/.../medications/mizolastine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/mizolastine/1)

### Promethazine

Category: "antihistamines".

Any prescription of promethazine.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `2.74% - 4.39%` suggests that this code set is not well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    78620 (2.95%) |     84079 (3.16%) |
| 2022-06-28 | TPP             | 212907     |     5828 (2.74%) |      5937 (2.79%) |
| 2022-06-28 | Vision          | 343146     |    15077 (4.39%) |     15977 (4.66%) |

LINK: [https://github.com/rw251/.../medications/promethazine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/promethazine/1)

### Salbutamol

Category: "antihistamines".

Any prescription of salbutamol.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `23.6% - 30.3%` suggests that this code set is perhaps not well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |   628568 (23.6%) |    689904 (25.9%) |
| 2022-06-28 | TPP             | 212907     |    64533 (30.3%) |     66439 (31.2%) |
| 2022-06-28 | Vision          | 343146     |    86670 (25.3%) |     92419 (26.9%) |

LINK: [https://github.com/rw251/.../medications/salbutamol/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/salbutamol/1)

### Betamethasone

Category: "steroids".

Any prescription of betamethasone.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.04% - 0.12%` suggests that this code set may not be well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |     3154 (0.12%) |      3313 (0.12%) |
| 2022-06-28 | TPP             | 212907     |       75 (0.04%) |        76 (0.04%) |
| 2022-06-28 | Vision          | 343146     |      301 (0.09%) |       313 (0.09%) |

LINK: [https://github.com/rw251/.../medications/betamethasone/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/betamethasone/1)

### Dexamethasone

Category: "steroids".

Any prescription of dexamethasone.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.47% - 0.55%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    12463 (0.47%) |     13609 (0.51%) |
| 2022-06-28 | TPP             | 212907     |     1123 (0.53%) |      1148 (0.54%) |
| 2022-06-28 | Vision          | 343146     |     1881 (0.55%) |      2030 (0.59%) |

LINK: [https://github.com/rw251/.../medications/dexamethasone/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/dexamethasone/1)

### Fludrocortisone-acetate

Category: "steroids".

Any prescription of fludrocortisone-acetate.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.12% - 0.20%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |     3254 (0.12%) |      3417 (0.13%) |
| 2022-06-28 | TPP             | 212907     |      421 (0.20%) |       497 (0.23%) |
| 2022-06-28 | Vision          | 343146     |      447 (0.13%) |       457 (0.13%) |

LINK: [https://github.com/rw251/.../medications/fludrocortisone-acetate/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/fludrocortisone-acetate/1)

### Hydrocortisone

Category: "steroids".

Any prescription of hydrocortisone.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.11% - 0.13%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |     2849 (0.11%) |      3013 (0.11%) |
| 2022-06-28 | TPP             | 212907     |      272 (0.13%) |       314 (0.15%) |
| 2022-06-28 | Vision          | 343146     |      388 (0.11%) |       398 (0.12%) |

LINK: [https://github.com/rw251/.../medications/hydrocortisone/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/hydrocortisone/1)

### Prednisolone

Category: "steroids".

Any prescription of prednisolone.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `13.0% - 15.8%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |   345343 (13.0%) |    365422 (13.7%) |
| 2022-06-28 | TPP             | 212907     |    33546 (15.8%) |     34009 (16.0%) |
| 2022-06-28 | Vision          | 343146     |    52939 (15.4%) |     55299 (16.1%) |

LINK: [https://github.com/rw251/.../medications/prednisolone/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/prednisolone/1)

### Beclometasone

Category: "steroids".

Any prescription of beclometasone.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.01% - 0.02%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |      199 (0.01%) |       204 (0.01%) |
| 2022-06-28 | TPP             | 212907     |       19 (0.01%) |        18 (0.01%) |
| 2022-06-28 | Vision          | 343146     |       67 (0.02%) |        67 (0.02%) |

LINK: [https://github.com/rw251/.../medications/beclometasone/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/beclometasone/1)

### Budesonide

Category: "steroids".

Any prescription of budesonide.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.12% - 0.17%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |     3250 (0.12%) |      3335 (0.13%) |
| 2022-06-28 | TPP             | 212907     |      357 (0.17%) |       374 (0.18%) |
| 2022-06-28 | Vision          | 343146     |      574 (0.17%) |       578 (0.17%) |

LINK: [https://github.com/rw251/.../medications/budesonide/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/budesonide/1)

### Deflazacort

Category: "steroids".

Any prescription of deflazacort.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.00003% - 0.00004%` suggests that this code set is well defined, but extremely rare.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |   116 (0.00004%) |    124 (0.00005%) |
| 2022-06-28 | TPP             | 212907     |     8 (0.00004%) |     10 (0.00005%) |
| 2022-06-28 | Vision          | 343146     |    10 (0.00003%) |     10 (0.00003%) |

LINK: [https://github.com/rw251/.../medications/deflazacort/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/deflazacort/1)

### Methylprednisolone

Category: "steroids".

Any prescription of methylprednisolone.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.03% - 0.05%` suggests that this code set is well defined, but infrequently used.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |      904 (0.03%) |       934 (0.04%) |
| 2022-06-28 | TPP             | 212907     |       62 (0.03%) |        62 (0.03%) |
| 2022-06-28 | Vision          | 343146     |      171 (0.05%) |       175 (0.05%) |

LINK: [https://github.com/rw251/.../medications/methylprednisolone/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/methylprednisolone/1)

### Desogestrel

Category: "contraceptive-hormones".

Any prescription of desogestrel.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `6.51% - 7.32%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |   173361 (6.51%) |    181040 (6.79%) |
| 2022-06-28 | TPP             | 212907     |    15577 (7.32%) |     15897 (7.47%) |
| 2022-06-28 | Vision          | 343146     |    23799 (6.94%) |     24823 (7.23%) |

LINK: [https://github.com/rw251/.../medications/desogestrel/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/desogestrel/1)

### Etonogestrel

Category: "contraceptive-hormones".

Any prescription of etonogestrel.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `1.11% - 1.33%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    30734 (1.15%) |     32171 (1.21%) |
| 2022-06-28 | TPP             | 212907     |     2354 (1.11%) |      2367 (1.11%) |
| 2022-06-28 | Vision          | 343146     |     4569 (1.33%) |      4812 (1.40%) |

LINK: [https://github.com/rw251/.../medications/etonogestrel/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/etonogestrel/1)

### Levonorgestrel

Category: "contraceptive-hormones".

Any prescription of levonorgestrel.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `3.19% - 3.88%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |   103359 (3.88%) |    107163 (4.02%) |
| 2022-06-28 | TPP             | 212907     |     7384 (3.47%) |      7414 (3.48%) |
| 2022-06-28 | Vision          | 343146     |    10943 (3.19%) |     11499 (3.35%) |

LINK: [https://github.com/rw251/.../medications/levonorgestrel/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/levonorgestrel/1)

### Medroxyprogesterone

Category: "contraceptive-hormones".

Any prescription of medroxyprogesterone.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `3.34% - 3.91%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    88924 (3.34%) |     90619 (3.40%) |
| 2022-06-28 | TPP             | 212907     |     8326 (3.91%) |      8480 (3.98%) |
| 2022-06-28 | Vision          | 343146     |    11785 (3.43%) |     12235 (3.57%) |

LINK: [https://github.com/rw251/.../medications/medroxyprogesterone/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/medroxyprogesterone/1)

### Norethisterone

Category: "contraceptive-hormones".

Any prescription of norethisterone.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `6.83% - 7.60%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |   182107 (6.83%) |    188697 (7.08%) |
| 2022-06-28 | TPP             | 212907     |    16189 (7.60%) |     16307 (7.66%) |
| 2022-06-28 | Vision          | 343146     |    25050 (7.30%) |     26145 (7.62%) |

LINK: [https://github.com/rw251/.../medications/norethisterone/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/norethisterone/1)

### Insulin

Any code representing a prescription (or drug) of insulin.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `1.21% - 1.32%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-08-26 | EMIS            | 2623304    |    34737 (1.32%) |     34737 (1.32%) |
| 2021-08-26 | TPP             | 211610     |     2573 (1.22%) |      2573 (1.22%) |
| 2021-08-26 | Vision          | 337028     |     4071 (1.21%) |      4071 (1.21%) |

LINK: [https://github.com/rw251/.../medications/insulin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/insulin/1)

### Acarbose

Category: "antidiabetics".

Any prescription of acarbose.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.04 - 0.04%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |      990 (0.04%) |      1045 (0.04%) |
| 2022-06-28 | TPP             | 212907     |       75 (0.04%) |        80 (0.04%) |
| 2022-06-28 | Vision          | 343146     |      147 (0.04%) |       150 (0.04%) |

LINK: [https://github.com/rw251/.../medications/acarbose/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/acarbose/1)

### Alogliptin

Category: "antidiabetics".

Any prescription of alogliptin.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.58% - 0.91%` suggests that this code set is perhaps well defined, though the value for Vision practices is a bit high.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    17696 (0.66%) |     18433 (0.69%) |
| 2022-06-28 | TPP             | 212907     |     1235 (0.58%) |      1518 (0.71%) |
| 2022-06-28 | Vision          | 343146     |     3113 (0.91%) |      3135 (0.91%) |

LINK: [https://github.com/rw251/.../medications/alogliptin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/alogliptin/1)

### Canagliflozin

Category: "antidiabetics".

Any prescription of canagliflozin.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.48% - 0.60%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    13380 (0.50%) |     14015 (0.53%) |
| 2022-06-28 | TPP             | 212907     |     1030 (0.48%) |      1212 (0.57%) |
| 2022-06-28 | Vision          | 343146     |     2054 (0.60%) |      2067 (0.60%) |

LINK: [https://github.com/rw251/.../medications/canagliflozin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/canagliflozin/1)

### Dapagliflozin

Category: "antidiabetics".

Any prescription of dapagliflozin.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.52% - 0.66%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    14157 (0.53%) |     14659 (0.55%) |
| 2022-06-28 | TPP             | 212907     |     1407 (0.66%) |      1709 (0.80%) |
| 2022-06-28 | Vision          | 343146     |     1780 (0.52%) |      1788 (0.52%) |

LINK: [https://github.com/rw251/.../medications/dapagliflozin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/dapagliflozin/1)

### Dulaglutide

Category: "antidiabetics".

Any prescription of dulaglutide.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.07% - 0.19%` suggests that this code set is not well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |     5149 (0.19%) |      5358 (0.20%) |
| 2022-06-28 | TPP             | 212907     |      140 (0.07%) |       156 (0.07%) |
| 2022-06-28 | Vision          | 343146     |      345 (0.10%) |       349 (0.10%) |

LINK: [https://github.com/rw251/.../medications/dulaglutide/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/dulaglutide/1)

### Empagliflozin

Category: "antidiabetics".

Any prescription of empagliflozin.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.15% - 0.489%` suggests that this code set is not well defined. However EMIS and Vision (>90% GM) are very similar.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    12838 (0.48%) |     13326 (0.50%) |
| 2022-06-28 | TPP             | 212907     |      316 (0.15%) |       379 (0.18%) |
| 2022-06-28 | Vision          | 343146     |     1631 (0.48%) |      1639 (0.48%) |

LINK: [https://github.com/rw251/.../medications/empagliflozin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/empagliflozin/1)

### Exenatide

Category: "antidiabetics".

Any prescription of exenatide.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.07% - 0.09%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |     2531 (0.09%) |      2638 (0.10%) |
| 2022-06-28 | TPP             | 212907     |      158 (0.07%) |       162 (0.08%) |
| 2022-06-28 | Vision          | 343146     |      294 (0.09%) |       295 (0.09%) |

LINK: [https://github.com/rw251/.../medications/exenatide/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/exenatide/1)

### Gliclazide

Category: "antidiabetics".

Any prescription of gliclazide.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `1.30% - 1.80%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    39916 (1.50%) |     42364 (1.59%) |
| 2022-06-28 | TPP             | 212907     |     3830 (1.80%) |      4384 (2.06%) |
| 2022-06-28 | Vision          | 343146     |     4453 (1.30%) |      4483 (1.31%) |

LINK: [https://github.com/rw251/.../medications/gliclazide/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/gliclazide/1)

### Glimepiride

Category: "antidiabetics".

Any prescription of glimepiride.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.33% - 0.45%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |     8813 (0.33%) |      9376 (0.35%) |
| 2022-06-28 | TPP             | 212907     |      953 (0.45%) |      1127 (0.53%) |
| 2022-06-28 | Vision          | 343146     |     1463 (0.43%) |      1477 (0.43%) |

LINK: [https://github.com/rw251/.../medications/glimepiride/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/glimepiride/1)

### Glipizide

Category: "antidiabetics".

Any prescription of glipizide.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.02% - 0.03%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |      573 (0.02%) |       618 (0.02%) |
| 2022-06-28 | TPP             | 212907     |       34 (0.02%) |        34 (0.02%) |
| 2022-06-28 | Vision          | 343146     |      117 (0.03%) |       117 (0.03%) |

LINK: [https://github.com/rw251/.../medications/glipizide/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/glipizide/1)

### Linagliptin

Category: "antidiabetics".

Any prescription of linagliptin.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.23% - 0.55%` suggests that this code set is not well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    11065 (0.42%) |     11731 (0.44%) |
| 2022-06-28 | TPP             | 212907     |     1167 (0.55%) |      1392 (0.65%) |
| 2022-06-28 | Vision          | 343146     |      774 (0.23%) |       778 (0.23%) |

LINK: [https://github.com/rw251/.../medications/linagliptin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/linagliptin/1)

### Liraglutide

Category: "antidiabetics".

Any prescription of liraglutide.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.24% - 0.31%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |     6450 (0.24%) |      6752 (0.25%) |
| 2022-06-28 | TPP             | 212907     |      660 (0.31%) |       745 (0.35%) |
| 2022-06-28 | Vision          | 343146     |     1056 (0.31%) |      1066 (0.31%) |

LINK: [https://github.com/rw251/.../medications/liraglutide/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/liraglutide/1)

### Lixisenatide

Category: "antidiabetics".

Any prescription of lixisenatide.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.02% - 0.04%` suggests that this code set is well defined, but infrequently used.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |      623 (0.02%) |       659 (0.02%) |
| 2022-06-28 | TPP             | 212907     |       77 (0.04%) |        77 (0.04%) |
| 2022-06-28 | Vision          | 343146     |       80 (0.02%) |        81 (0.02%) |

LINK: [https://github.com/rw251/.../medications/lixisenatide/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/lixisenatide/1)

### Metformin

This code set was originally created for the SMASH safe medication dashboard and has been validated in practice.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `4.75% - 5.19%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-07 | EMIS            | 2605681    |   135082 (5.18%) |    135136 (5.19%) |
| 2021-05-07 | TPP             | 210817     |    10016 (4.75%) |     10016 (4.75%) |
| 2021-05-07 | Vision          | 334632     |    16809 (5.02%) |     16809 (5.02%) |

LINK: [https://github.com/rw251/.../medications/metformin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/metformin/1)

### Pioglitazone

Category: "antidiabetics".

Any prescription of pioglitazone.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.49% - 0.63%` suggests that this code set is not well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    12954 (0.49%) |     13757 (0.52%) |
| 2022-06-28 | TPP             | 212907     |     1348 (0.63%) |      1466 (0.69%) |
| 2022-06-28 | Vision          | 343146     |     2124 (0.62%) |      2142 (0.62%) |

LINK: [https://github.com/rw251/.../medications/pioglitazone/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/pioglitazone/1)

### Repaglinide

Category: "antidiabetics".

Any prescription of repaglinide.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.02% - 0.04%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |     1165 (0.04%) |      1217 (0.05%) |
| 2022-06-28 | TPP             | 212907     |       51 (0.02%) |        52 (0.02%) |
| 2022-06-28 | Vision          | 343146     |       75 (0.02%) |        75 (0.02%) |

LINK: [https://github.com/rw251/.../medications/repaglinide/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/repaglinide/1)

### Saxagliptin

Category: "antidiabetics".

Any prescription of saxagliptin.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.06% - 0.19%` suggests that this code set is not well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |     3549 (0.13%) |      3706 (0.14%) |
| 2022-06-28 | TPP             | 212907     |      395 (0.19%) |       413 (0.19%) |
| 2022-06-28 | Vision          | 343146     |      223 (0.06%) |       226 (0.07%) |

LINK: [https://github.com/rw251/.../medications/saxagliptin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/saxagliptin/1)

### Sitagliptin

Category: "antidiabetics".

Any prescription of sitagliptin.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.59% - 0.91%` suggests that this code set is not well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |    20007 (0.75%) |     21138 (0.79%) |
| 2022-06-28 | TPP             | 212907     |     1937 (0.91%) |      2224 (1.04%) |
| 2022-06-28 | Vision          | 343146     |     2015 (0.59%) |      2028 (0.59%) |

LINK: [https://github.com/rw251/.../medications/sitagliptin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/sitagliptin/1)

### Tolbutamide

Category: "antidiabetics".

Any prescription of tolbutamide.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.00% - 0.01%` suggests that this code set is well defined, but infrequently used.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |      254 (0.01%) |       275 (0.01%) |
| 2022-06-28 | TPP             | 212907     |       14 (0.01%) |        14 (0.01%) |
| 2022-06-28 | Vision          | 343146     |        6 (0.00%) |         6 (0.00%) |

LINK: [https://github.com/rw251/.../medications/tolbutamide/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/tolbutamide/1)

### Vildagliptin

Category: "antidiabetics".

Any prescription of vildagliptin.

This code set has been autogenerated by identifying the relevant codes in the BNF files. The BNF codes are then mapped to SNOMED, and then on to EMIS, Readv2 and CTV3.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.06% - 0.10%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |     1829 (0.07%) |      1919 (0.07%) |
| 2022-06-28 | TPP             | 212907     |      207 (0.10%) |       217 (0.10%) |
| 2022-06-28 | Vision          | 343146     |      200 (0.06%) |       200 (0.06%) |

LINK: [https://github.com/rw251/.../medications/vildagliptin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/vildagliptin/1)
# Clinical code sets

All code sets required for this analysis are available here: [https://github.com/rw251/.../036 - Heald (weight gain)/clinical-code-sets.csv](https://github.com/rw251/gm-idcr/tree/master/projects/036%20-%20Heald%20(weight%20gain)/clinical-code-sets.csv). Individual lists for each concept can also be found by using the links above.