_This file is autogenerated. Please do not edit._

# _TODO_ - project title

## Summary

**TODO** edit `about.md` to insert a brief lay summary of the work.

## Table of contents

- [Introduction](#introduction)
- [Methodology](#methodology)
- [Reusable queries](#reusable-queries)
- [Clinical code sets](#clinical-code-sets)

## Introduction

The aim of this document is to provide full transparency for all parts of the data extraction process.
This includes:

- The methodology around how the data extraction process is managed and quality is maintained.
- A full list of all queries used in the extraction, and their associated objectives and assumptions.
- A full list of all clinical codes used for the extraction.

## Methodology

After each proposal is approved, a Research Data Engineer (RDE) works closely with the research team to establish precisely what data they require and in what format.
The RDE has access to the entire de-identified database and so builds up an expertise as to which projects are feasible and how best to extract the relevant data.
The RDE has access to a library of resusable SQL queries for common tasks, and sets of clinical codes for different phenotypes, built up from previous studies.
Prior to data extraction, the code is checked and signed off by another RDE.

## Reusable queries
  
This project required the following reusable queries:

- Alcohol Intake
- Smoking status
- BMI
- Lower level super output area
- Index Multiple Deprivation
- Sex
- Patient GP encounters
- GET practice and ccg for each patient
- CCG lookup table
- Patient GP history
- COVID vaccinations
- COVID-related secondary admissions
- Patients with COVID
- Secondary admissions and length of stay
- Secondary discharges
- Define Cohort for RQ041: patients with biochemical evidence of CKD
- Year of birth
- Create table of patients who are registered with a GM GP, and haven't joined the database from June 2022 onwards

Further details for each query can be found below.

### Alcohol Intake
To get the alcohol status for each patient in a cohort.

_Assumptions_

- We take the most recent alcohol intake code in a patient's record to be correct

_Input_
```
Assumes there exists a temp table as follows:
 #Patients (FK_Patient_Link_ID)
  A distinct list of FK_Patient_Link_IDs for each patient in the cohort
 Also takes one parameter:
	- gp-events-table: string - (table name) the name of the table containing the GP events. Usually is "RLS.vw_GP_Events" but can be anything with the columns: FK_Patient_Link_ID, EventDate, FK_Reference_Coding_ID, and FK_Reference_SnomedCT_ID
```

_Output_
```
A temp table as follows:
 #PatientAlcoholIntake (FK_Patient_Link_ID, CurrentAlcoholIntake)
	- FK_Patient_Link_ID - unique patient id
  - WorstAlcoholIntake - [heavy drinker/moderate drinker/light drinker/non-drinker] - worst code
	- CurrentAlcoholIntake - [heavy drinker/moderate drinker/light drinker/non-drinker] - most recent code
```
_File_: `query-patient-alcohol-intake.sql`

_Link_: [https://github.com/rw251/.../query-patient-alcohol-intake.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-patient-alcohol-intake.sql)

---
### Smoking status
To get the smoking status for each patient in a cohort.

_Assumptions_

- We take the most recent smoking status in a patient's record to be correct
- However, there is likely confusion between the "non smoker" and "never smoked" codes. Especially as sometimes the synonyms for these codes overlap. Therefore, a patient wih a most recent smoking status of "never", but who has previous smoking codes, would be classed as WorstSmokingStatus=non-trivial-smoker / CurrentSmokingStatus=non-smoker

_Input_
```
Assumes there exists a temp table as follows:
 #Patients (FK_Patient_Link_ID)
  A distinct list of FK_Patient_Link_IDs for each patient in the cohort
 Also takes one parameter:
	- gp-events-table: string - (table name) the name of the table containing the GP events. Usually is "RLS.vw_GP_Events" but can be anything with the columns: FK_Patient_Link_ID, EventDate, FK_Reference_Coding_ID, and FK_Reference_SnomedCT_ID
```

_Output_
```
A temp table as follows:
 #PatientSmokingStatus (FK_Patient_Link_ID, PassiveSmoker, WorstSmokingStatus, CurrentSmokingStatus)
	- FK_Patient_Link_ID - unique patient id
	- PassiveSmoker - Y/N (whether a patient has ever had a code for passive smoking)
	- WorstSmokingStatus - [non-trivial-smoker/trivial-smoker/non-smoker]
	- CurrentSmokingStatus - [non-trivial-smoker/trivial-smoker/non-smoker]
```
_File_: `query-patient-smoking-status.sql`

_Link_: [https://github.com/rw251/.../query-patient-smoking-status.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-patient-smoking-status.sql)

---
### BMI
To get the BMI for each patient in a cohort.

_Assumptions_

- We take the measurement closest to @IndexDate to be correct

_Input_
```
Assumes there exists a temp table as follows:
 #Patients (FK_Patient_Link_ID)
  A distinct list of FK_Patient_Link_IDs for each patient in the cohort
 Also takes one parameter:
	- gp-events-table: string - (table name) the name of the table containing the GP events. Usually is "RLS.vw_GP_Events" but can be anything with the columns: FK_Patient_Link_ID, EventDate, FK_Reference_Coding_ID, and FK_Reference_SnomedCT_ID
 Also assumes there is an @IndexDate defined - The index date of the study
```

_Output_
```
A temp table as follows:
 #PatientBMI (FK_Patient_Link_ID, BMI, DateOfBMIMeasurement)
	- FK_Patient_Link_ID - unique patient id
  - BMI
  - DateOfBMIMeasurement
```
_File_: `query-patient-bmi.sql`

_Link_: [https://github.com/rw251/.../query-patient-bmi.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-patient-bmi.sql)

---
### Lower level super output area
To get the LSOA for each patient.

_Assumptions_

- Patient data is obtained from multiple sources. Where patients have multiple LSOAs we determine the LSOA as follows:
- If the patients has an LSOA in their primary care data feed we use that as most likely to be up to date
- If every LSOA for a paitent is the same, then we use that
- If there is a single most recently updated LSOA in the database then we use that
- Otherwise the patient's LSOA is considered unknown

_Input_
```
Assumes there exists a temp table as follows:
 #Patients (FK_Patient_Link_ID)
  A distinct list of FK_Patient_Link_IDs for each patient in the cohort
```

_Output_
```
A temp table as follows:
 #PatientLSOA (FK_Patient_Link_ID, LSOA)
 	- FK_Patient_Link_ID - unique patient id
	- LSOA_Code - nationally recognised LSOA identifier
```
_File_: `query-patient-lsoa.sql`

_Link_: [https://github.com/rw251/.../query-patient-lsoa.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-patient-lsoa.sql)

---
### Index Multiple Deprivation
To get the 2019 Index of Multiple Deprivation (IMD) decile for each patient.

_Input_
```
Assumes there exists a temp table as follows:
 #Patients (FK_Patient_Link_ID)
  A distinct list of FK_Patient_Link_IDs for each patient in the cohort
```

_Output_
```
A temp table as follows:
 #PatientIMDDecile (FK_Patient_Link_ID, IMD2019Decile1IsMostDeprived10IsLeastDeprived)
 	- FK_Patient_Link_ID - unique patient id
	- IMD2019Decile1IsMostDeprived10IsLeastDeprived - number 1 to 10 inclusive
```
_File_: `query-patient-imd.sql`

_Link_: [https://github.com/rw251/.../query-patient-imd.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-patient-imd.sql)

---
### Sex
To get the Sex for each patient.

_Assumptions_

- Patient data is obtained from multiple sources. Where patients have multiple sexes we determine the sex as follows:
- If the patients has a sex in their primary care data feed we use that as most likely to be up to date
- If every sex for a patient is the same, then we use that
- If there is a single most recently updated sex in the database then we use that
- Otherwise the patient's sex is considered unknown

_Input_
```
Assumes there exists a temp table as follows:
 #Patients (FK_Patient_Link_ID)
  A distinct list of FK_Patient_Link_IDs for each patient in the cohort
```

_Output_
```
A temp table as follows:
 #PatientSex (FK_Patient_Link_ID, Sex)
 	- FK_Patient_Link_ID - unique patient id
	- Sex - M/F
```
_File_: `query-patient-sex.sql`

_Link_: [https://github.com/rw251/.../query-patient-sex.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-patient-sex.sql)

---
### Patient GP encounters
To produce a table of GP encounters for a list of patients. This script uses many codes related to observations (e.g. blood pressure), symptoms, and diagnoses, to infer when GP encounters occured. This script includes face to face and telephone encounters - it will need copying and editing if you don't require both.

_Assumptions_

- multiple codes on the same day will be classed as one encounter (so max daily encounters per patient is 1)

_Input_
```
Assumes there exists a temp table as follows:
 #Patients (FK_Patient_Link_ID)
  A distinct list of FK_Patient_Link_IDs for each patient in the cohort
```

_Output_
```
A temp table as follows:
 #GPEncounters (FK_Patient_Link_ID, EncounterDate)
	- FK_Patient_Link_ID - unique patient id
	- EncounterDate - date the patient had a GP encounter
```
_File_: `query-patient-gp-encounters.sql`

_Link_: [https://github.com/rw251/.../query-patient-gp-encounters.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-patient-gp-encounters.sql)

---
### GET practice and ccg for each patient
For each patient to get the practice id that they are registered to, and the CCG name that the practice belongs to.

_Input_
```
Assumes there exists a temp table as follows:
 #Patients (FK_Patient_Link_ID)
  A distinct list of FK_Patient_Link_IDs for each patient in the cohort
```

_Output_
```
Two temp tables as follows:
 #PatientPractice (FK_Patient_Link_ID, GPPracticeCode)
	- FK_Patient_Link_ID - unique patient id
	- GPPracticeCode - the nationally recognised practice id for the patient
 #PatientPracticeAndCCG (FK_Patient_Link_ID, GPPracticeCode, CCG)
	- FK_Patient_Link_ID - unique patient id
	- GPPracticeCode - the nationally recognised practice id for the patient
	- CCG - the name of the patient's CCG
```
_File_: `query-patient-practice-and-ccg.sql`

_Link_: [https://github.com/rw251/.../query-patient-practice-and-ccg.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-patient-practice-and-ccg.sql)

---
### CCG lookup table
To provide lookup table for CCG names. The GMCR provides the CCG id (e.g. '00T', '01G') but not the CCG name. This table can be used in other queries when the output is required to be a ccg name rather than an id.

_Input_
```
No pre-requisites
```

_Output_
```
A temp table as follows:
 #CCGLookup (CcgId, CcgName)
 	- CcgId - Nationally recognised ccg id
	- CcgName - Bolton, Stockport etc..
```
_File_: `query-ccg-lookup.sql`

_Link_: [https://github.com/rw251/.../query-ccg-lookup.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-ccg-lookup.sql)

---
### Patient GP history
To produce a table showing the start and end dates for each practice the patient has been registered at.

_Assumptions_

- We do not have data on patients who move out of GM, though we do know that it happened. For these patients we record the GPPracticeCode as OutOfArea
- Where two adjacent time periods either overlap, or have a gap between them, we assume that the most recent registration is more accurate and adjust the end date of the first time period accordingly. This is an infrequent occurrence.

_Input_
```
No pre-requisites
```

_Output_
```
A temp table as follows:
 #PatientGPHistory (FK_Patient_Link_ID, GPPracticeCode, StartDate, EndDate)
	- FK_Patient_Link_ID - unique patient id
	- GPPracticeCode - national GP practice id system
	- StartDate - date the patient registered at the practice
	- EndDate - date the patient left the practice
```
_File_: `query-patient-gp-history.sql`

_Link_: [https://github.com/rw251/.../query-patient-gp-history.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-patient-gp-history.sql)

---
### COVID vaccinations
To obtain a table with first, second, third... etc vaccine doses per patient.

_Assumptions_

- GP records can often be duplicated. The assumption is that if a patient receives two vaccines within 14 days of each other then it is likely that both codes refer to the same vaccine.
- The vaccine can appear as a procedure or as a medication. We assume that the presence of either represents a vaccination

_Input_
```
Takes two parameters:
	- gp-events-table: string - (table name) the name of the table containing the GP events. Usually is "RLS.vw_GP_Events" but can be anything with the columns: FK_Patient_Link_ID, EventDate, and SuppliedCode
	- gp-medications-table: string - (table name) the name of the table containing the GP medications. Usually is "RLS.vw_GP_Medications" but can be anything with the columns: FK_Patient_Link_ID, EventDate, and SuppliedCode
```

_Output_
```
A temp table as follows:
 #COVIDVaccinations (FK_Patient_Link_ID, VaccineDate, DaysSinceFirstVaccine)
 	- FK_Patient_Link_ID - unique patient id
	- VaccineDose1Date - date of first vaccine (YYYY-MM-DD)
	-	VaccineDose2Date - date of second vaccine (YYYY-MM-DD)
	-	VaccineDose3Date - date of third vaccine (YYYY-MM-DD)
	-	VaccineDose4Date - date of fourth vaccine (YYYY-MM-DD)
	-	VaccineDose5Date - date of fifth vaccine (YYYY-MM-DD)
	-	VaccineDose6Date - date of sixth vaccine (YYYY-MM-DD)
	-	VaccineDose7Date - date of seventh vaccine (YYYY-MM-DD)
```
_File_: `query-get-covid-vaccines.sql`

_Link_: [https://github.com/rw251/.../query-get-covid-vaccines.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-get-covid-vaccines.sql)

---
### COVID-related secondary admissions
To classify every admission to secondary care based on whether it is a COVID or non-COVID related. A COVID-related admission is classed as an admission within 4 weeks after, or up to 2 weeks before a positive test.

_Input_
```
Takes one parameter
  - start-date: string - (YYYY-MM-DD) the date to count diagnoses from. Usually this should be 2020-01-01.
	-	all-patients: boolean - (true/false) if true, then all patients are included, otherwise only those in the pre-existing #Patients table.
	- gp-events-table: string - (table name) the name of the table containing the GP events. Usually is "RLS.vw_GP_Events" but can be anything with the columns: FK_Patient_Link_ID, EventDate, and SuppliedCode
 And assumes there exists two temp tables as follows:
 #Patients (FK_Patient_Link_ID)
  A distinct list of FK_Patient_Link_IDs for each patient in the cohort
 #Admissions (FK_Patient_Link_ID, AdmissionDate, AcuteProvider)
  A distinct list of the admissions for each patient in the cohort
```

_Output_
```
A temp table as follows:
 #COVIDUtilisationAdmissions (FK_Patient_Link_ID, AdmissionDate, AcuteProvider, CovidHealthcareUtilisation)
	- FK_Patient_Link_ID - unique patient id
	- AdmissionDate - date of admission (YYYY-MM-DD)
	- AcuteProvider - Bolton, SRFT, Stockport etc..
	- CovidHealthcareUtilisation - 'TRUE' if admission within 4 weeks after, or up to 14 days before, a positive test
```
_File_: `query-admissions-covid-utilisation.sql`

_Link_: [https://github.com/rw251/.../query-admissions-covid-utilisation.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-admissions-covid-utilisation.sql)

---
### Patients with COVID
To get tables of all patients with a COVID diagnosis in their record. This now includes a table that has reinfections. This uses a 90 day cut-off to rule out patients that get multiple tests for a single infection. This 90 day cut-off is also used in the government COVID dashboard. In the first wave, prior to widespread COVID testing, and prior to the correct clinical codes being	available to clinicians, infections were recorded in a variety of ways. We therefore take the first diagnosis from any code indicative of COVID. However, for subsequent infections we insist on the presence of a positive COVID test (PCR or antigen) as opposed to simply a diagnosis code. This is to avoid the situation where a hospital diagnosis code gets entered into the primary care record several months after the actual infection.

_Input_
```
Takes three parameters
  - start-date: string - (YYYY-MM-DD) the date to count diagnoses from. Usually this should be 2020-01-01.
	-	all-patients: boolean - (true/false) if true, then all patients are included, otherwise only those in the pre-existing #Patients table.
	- gp-events-table: string - (table name) the name of the table containing the GP events. Usually is "SharedCare.GP_Events" but can be anything with the columns: FK_Patient_Link_ID, EventDate, and SuppliedCode
```

_Output_
```
Three temp tables as follows:
 #CovidPatients (FK_Patient_Link_ID, FirstCovidPositiveDate)
 	- FK_Patient_Link_ID - unique patient id
	- FirstCovidPositiveDate - earliest COVID diagnosis
 #CovidPatientsAllDiagnoses (FK_Patient_Link_ID, CovidPositiveDate)
 	- FK_Patient_Link_ID - unique patient id
	- CovidPositiveDate - any COVID diagnosis
 #CovidPatientsMultipleDiagnoses
	-	FK_Patient_Link_ID - unique patient id
	-	FirstCovidPositiveDate - date of first COVID diagnosis
	-	SecondCovidPositiveDate - date of second COVID diagnosis
	-	ThirdCovidPositiveDate - date of third COVID diagnosis
	-	FourthCovidPositiveDate - date of fourth COVID diagnosis
	-	FifthCovidPositiveDate - date of fifth COVID diagnosis
```
_File_: `query-patients-with-covid.sql`

_Link_: [https://github.com/rw251/.../query-patients-with-covid.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-patients-with-covid.sql)

---
### Secondary admissions and length of stay
To obtain a table with every secondary care admission, along with the acute provider, the date of admission, the date of discharge, and the length of stay.

_Input_
```
One parameter
	-	all-patients: boolean - (true/false) if true, then all patients are included, otherwise only those in the pre-existing #Patients table.
```

_Output_
```
Two temp table as follows:
 #Admissions (FK_Patient_Link_ID, AdmissionDate, AcuteProvider)
 	- FK_Patient_Link_ID - unique patient id
	- AdmissionDate - date of admission (YYYY-MM-DD)
	- AcuteProvider - Bolton, SRFT, Stockport etc..
  (Limited to one admission per person per hospital per day, because if a patient has 2 admissions
   on the same day to the same hopsital then it's most likely data duplication rather than two short
   hospital stays)
 #LengthOfStay (FK_Patient_Link_ID, AdmissionDate)
 	- FK_Patient_Link_ID - unique patient id
	- AdmissionDate - date of admission (YYYY-MM-DD)
	- AcuteProvider - Bolton, SRFT, Stockport etc..
	- DischargeDate - date of discharge (YYYY-MM-DD)
	- LengthOfStay - Number of days between admission and discharge. 1 = [0,1) days, 2 = [1,2) days, etc.
```
_File_: `query-get-admissions-and-length-of-stay.sql`

_Link_: [https://github.com/rw251/.../query-get-admissions-and-length-of-stay.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-get-admissions-and-length-of-stay.sql)

---
### Secondary discharges
To obtain a table with every secondary care discharge, along with the acute provider, and the date of discharge.

_Input_
```
One parameter
	-	all-patients: boolean - (true/false) if true, then all patients are included, otherwise only those in the pre-existing #Patients table.
```

_Output_
```
A temp table as follows:
 #Discharges (FK_Patient_Link_ID, DischargeDate, AcuteProvider)
 	- FK_Patient_Link_ID - unique patient id
	- DischargeDate - date of discharge (YYYY-MM-DD)
	- AcuteProvider - Bolton, SRFT, Stockport etc..
  (Limited to one discharge per person per hospital per day, because if a patient has 2 discharges
   on the same day to the same hopsital then it's most likely data duplication rather than two short
   hospital stays)
```
_File_: `query-get-discharges.sql`

_Link_: [https://github.com/rw251/.../query-get-discharges.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-get-discharges.sql)

---
### Define Cohort for RQ041: patients with biochemical evidence of CKD
To build the cohort of patients needed for RQ041. This reduces duplication of code in the template scripts.

_Input_
```
assumes there exists one temp table as follows:
 #Patients (FK_Patient_Link_ID)
  A distinct list of FK_Patient_Link_IDs for each patient in the cohort
```

_Output_
```
A temp table as follows:
 #Cohort (FK_Patient_Link_ID)
 #PatientEventData
```
_File_: `query-build-rq041-cohort.sql`

_Link_: [https://github.com/rw251/.../query-build-rq041-cohort.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-build-rq041-cohort.sql)

---
### Year of birth
To get the year of birth for each patient.

_Assumptions_

- Patient data is obtained from multiple sources. Where patients have multiple YOBs we determine the YOB as follows:
- If the patients has a YOB in their primary care data feed we use that as most likely to be up to date
- If every YOB for a patient is the same, then we use that
- If there is a single most recently updated YOB in the database then we use that
- Otherwise we take the highest YOB for the patient that is not in the future

_Input_
```
Assumes there exists a temp table as follows:
 #Patients (FK_Patient_Link_ID)
  A distinct list of FK_Patient_Link_IDs for each patient in the cohort
```

_Output_
```
A temp table as follows:
 #PatientYearOfBirth (FK_Patient_Link_ID, YearOfBirth)
 	- FK_Patient_Link_ID - unique patient id
	- YearOfBirth - INT
```
_File_: `query-patient-year-of-birth.sql`

_Link_: [https://github.com/rw251/.../query-patient-year-of-birth.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-patient-year-of-birth.sql)

---
### Create table of patients who are registered with a GM GP, and haven't joined the database from June 2022 onwards
undefined

_Input_
```
undefined
```

_Output_
```
undefined
```
_File_: `query-get-possible-patients.sql`

_Link_: [https://github.com/rw251/.../query-get-possible-patients.sql](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-get-possible-patients.sql)
## Clinical code sets

This project required the following clinical code sets:

- egfr v1
- urinary-albumin-creatinine-ratio v1
- glomerulonephritis v1
- kidney-transplant v1
- kidney-stones v1
- vasculitis v1
- covid-positive-antigen-test v1
- covid-positive-pcr-test v1
- covid-positive-test-other v1
- renal-replacement-therapy v1
- acute-kidney-injury v1
- polycystic-kidney-disease v1
- family-history-kidney-disease v1
- end-stage-renal-disease v1
- ckd-stage-1 v1
- ckd-stage-2 v1
- ckd-stage-3 v1
- ckd-stage-4 v1
- ckd-stage-5 v1
- chronic-kidney-disease v1
- allergy-ace v1
- allergy-arb v1
- allergy-aspirin v1
- allergy-clopidogrel v1
- allergy-statin v1
- sle v1
- gout v1
- haematuria v1
- non-alc-fatty-liver-disease v1
- hormone-replacement-therapy v1
- long-covid v1
- menopause v1
- myeloma v1
- obese v1
- osteoporosis v1
- coronary-heart-disease v1
- heart-failure v1
- stroke v1
- tia v1
- peripheral-arterial-disease v1
- depression v1
- schizophrenia-psychosis v1
- bipolar v1
- eating-disorders v1
- anxiety v1
- selfharm-episodes v1
- uti v1
- statins v1
- ace-inhibitor v1
- aspirin v1
- clopidogrel v1
- sglt2-inhibitors v1
- nsaids v1
- hormone-replacement-therapy-meds v1
- female-sex-hormones v1
- male-sex-hormones v1
- anabolic-steroids v1
- hba1c v2
- creatinine v1
- triglycerides v1
- urea v1
- vitamin-d v1
- calcium v1
- bicarbonate v1
- ferritin v1
- b12 v1
- folate v1
- haemoglobin v1
- systolic-blood-pressure v1
- diastolic-blood-pressure v1
- urine-protein-creatinine-ratio v1
- alanine-aminotransferase v1
- albumin v1
- alkaline-phosphatase v1
- total-bilirubin v1
- gamma-glutamyl-transferase v1
- cholesterol v2
- ldl-cholesterol v1
- hdl-cholesterol v1
- urine-blood v1
- hypertension v1
- diabetes v1
- covid-vaccination v1
- bmi v2
- smoking-status-current v1
- smoking-status-currently-not v1
- smoking-status-ex v1
- smoking-status-ex-trivial v1
- smoking-status-never v1
- smoking-status-passive v1
- smoking-status-trivial v1
- alcohol-non-drinker v1
- alcohol-light-drinker v1
- alcohol-moderate-drinker v1
- alcohol-heavy-drinker v1
- alcohol-weekly-intake v1

Further details for each code set can be found below.

### Glomerular filtration rate (GFR)

Any code that gives the value of a patient's GFR (or estimated GFR - EGFR).
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `52.43% - 57.73%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-06-10 | EMIS            | 2610073    | 1369349 (52.46%) |  1368468 (52.43%) |
| 2021-06-10 | TPP             | 211034     |  121897 (57.76%) |   121835 (57.73%) |
| 2021-06-10 | Vision          | 335344     |  184635 (55.06%) |   184523 (55.02%) |

LINK: [https://github.com/rw251/.../tests/egfr/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/egfr/1)

### Urinary Albmin Creatinine Ratio

A patient's urinary albumin creatinine ratio as recorded via clinical code and value. This code set only includes codes that are accompanied by a value. It does not include codes that indicate a patient's ratio without giving the actual value.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `10.91% - 14.61%` is possibly not sufficiently narrow to guarantee that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-28 | EMIS            | 2658708    |  329218 (12.38%) |  329218 (12.38%)  |
| 2022-03-28 | TPP             | 212645     |   31083 (14.61%) |   31083 (14.61%)  |
| 2022-03-28 | Vision          | 341667     |   37285 (10.91%) |   37285 (10.91%)  |

LINK: [https://github.com/rw251/.../tests/urinary-albumin-creatinine-ratio/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/urinary-albumin-creatinine-ratio/1)

### Glomerulonephritis
 
Codes developed from GetSet. Codes indicate a diagnosis of glomerulonephritis at some point. They are not all diagnosis codes.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.

The discrepancy between the patients counted when using the IDs vs using the clinical codes is due to these being new codes which haven't all filtered through to the main Graphnet dictionary. The prevalence range `0.08% - 0.16%` suggests potential missing codes.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-05-17 | EMIS            | 2662570    |    4194 (0.16%)  |     4194 (0.16%)  |
| 2022-05-17 | TPP             | 212696     |     173 (0.08%)  |      173 (0.08%)  |
| 2022-05-17 | Vision          | 342344     |     348 (0.10%)  |      333 (0.10%)  |

LINK: [https://github.com/rw251/.../conditions/glomerulonephritis/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/glomerulonephritis/1)

### Kidney transplant

Codes indicating a kidney transplant has been carried out. Codes developed from OpenSafely.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.06% - 0.07%` is sufficiently narrow that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-05-04 | EMIS            | 2662112    |     1479 (0.06%) |      1479 (0.06%) |
| 2022-05-04 | TPP             | 212726     |      154 (0.07%) |       154 (0.07%) |
| 2022-05-04 | Vision          | 342310     |      221 (0.06%) |       221 (0.06%) |
LINK: [https://github.com/rw251/.../procedures/kidney-transplant/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/procedures/kidney-transplant/1)

### Kidney Stones

Codes from: https://www.opencodelists.org/ctv3/concept/XE0dk/

#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.

The discrepancy between the patients counted when using the IDs vs using the clinical codes is due to these being new codes which haven't all filtered through to the main Graphnet dictionary. The prevalence range `0.72% - 0.84%` indicates a good coverage of codes.


| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-16 | EMIS            | 2658131    |    20649 (0.78%) |     20468 (0.78%) |
| 2022-03-16 | TPP             | 212662     |     1796 (0.84%) |      1796 (0.84%) |
| 2022-03-16 | Vision          | 341594     |     2467 (0.72%) |      2315 (0.68%) |

LINK: [https://github.com/rw251/.../conditions/kidney-stones/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/kidney-stones/1)

### Vasculitis
 
Codes developed from GetSet. Codes indicate presence of vasculitis at some point. They are not all diagnosis codes.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.

The discrepancy between the patients counted when using the IDs vs using the clinical codes is due to these being new codes which haven't all filtered through to the main Graphnet dictionary. The prevalence range `0.30% - 0.40%` suggests this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-05-17 | EMIS            | 2662570    |   10689 (0.40%)  |    10689 (0.40%)  |
| 2022-05-17 | TPP             | 212696     |     646 (0.30%)  |      646 (0.08%)  |
| 2022-05-17 | Vision          | 342344     |    1314 (0.38%)  |     1304 (0.38%)  |

LINK: [https://github.com/rw251/.../conditions/vasculitis/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/vasculitis/1)

### COVID-19 positive antigen test

A code that indicates that a person has a positive antigen test for COVID-19.
#### COVID positive tests in primary care

The codes used in primary care to indicate a positive COVID test can be split into 3 types: antigen test, PCR test and other. We keep these as separate code sets. However due to the way that COVID diagnoses are recorded in different ways in different GP systems, and because some codes are ambiguous, currently it only makes sense to group these 3 code sets together. Therefore the prevalence log below is for the combined code sets of `covid-positive-antigen-test`, `covid-positive-pcr-test` and `covid-positive-test-other`.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `18.6% - 20.5%` suggests that this code set is likely well defined. _NB - this code set needs to rely on the SuppliedCode in the database rather than the foreign key ids._

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-02-25 | EMIS            | 2656041    |   152972 (5.76%) |    545759 (20.5%) |
| 2022-02-25 | TPP             | 212453     |      256 (0.12%) |     39503 (18.6%) |
| 2022-02-25 | Vision          | 341354     |     9440 (2.77%) |     65963 (19.3%) |

LINK: [https://github.com/rw251/.../tests/covid-positive-antigen-test/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/covid-positive-antigen-test/1)

### COVID-19 positive pcr test

A code that indicates that a person has a positive pcr test for COVID-19.
#### COVID positive tests in primary care

The codes used in primary care to indicate a positive COVID test can be split into 3 types: antigen test, PCR test and other. We keep these as separate code sets. However due to the way that COVID diagnoses are recorded in different ways in different GP systems, and because some codes are ambiguous, currently it only makes sense to group these 3 code sets together. Therefore the prevalence log below is for the combined code sets of `covid-positive-antigen-test`, `covid-positive-pcr-test` and `covid-positive-test-other`.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `18.6% - 20.5%` suggests that this code set is likely well defined. _NB - this code set needs to rely on the SuppliedCode in the database rather than the foreign key ids._

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-02-25 | EMIS            | 2656041    |   152972 (5.76%) |    545759 (20.5%) |
| 2022-02-25 | TPP             | 212453     |      256 (0.12%) |     39503 (18.6%) |
| 2022-02-25 | Vision          | 341354     |     9440 (2.77%) |     65963 (19.3%) |

LINK: [https://github.com/rw251/.../tests/covid-positive-pcr-test/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/covid-positive-pcr-test/1)

### COVID-19 positive test - other

A code that indicates that a person has a positive test for COVID-19, but where the type of test (antigen or PCR) is unknown.
#### COVID positive tests in primary care

The codes used in primary care to indicate a positive COVID test can be split into 3 types: antigen test, PCR test and other. We keep these as separate code sets. However due to the way that COVID diagnoses are recorded in different ways in different GP systems, and because some codes are ambiguous, currently it only makes sense to group these 3 code sets together. Therefore the prevalence log below is for the combined code sets of `covid-positive-antigen-test`, `covid-positive-pcr-test` and `covid-positive-test-other`.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `18.6% - 20.5%` suggests that this code set is likely well defined. _NB - this code set needs to rely on the SuppliedCode in the database rather than the foreign key ids._

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-02-25 | EMIS            | 2656041    |   152972 (5.76%) |    545759 (20.5%) |
| 2022-02-25 | TPP             | 212453     |      256 (0.12%) |     39503 (18.6%) |
| 2022-02-25 | Vision          | 341354     |     9440 (2.77%) |     65963 (19.3%) |

LINK: [https://github.com/rw251/.../tests/covid-positive-test-other/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/covid-positive-test-other/1)

### Renal Replacement Therapy

Codes indicating that the patient has had renal replacement therapy. Codes developed from OpenSafely.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.08% - 0.10%` is sufficiently narrow that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-05-04 | EMIS            | 2662112    |     2286 (0.09%) |      2286 (0.09%) |
| 2022-05-04 | TPP             | 212726     |      219 (0.10%) |       219 (0.10%) |
| 2022-05-04 | Vision          | 342310     |      286 (0.08%) |       285 (0.08%) |

LINK: [https://github.com/rw251/.../procedures/renal-replacement-therapy/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/procedures/renal-replacement-therapy/1)

### Acute Kidney Injury

This code set was created using getset.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `6.74% - 16.94%` suggests that this code set is missins Readv2 codes (underreporting TPP)

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-16 | EMIS            | 2662570    |  451145 (16.94%) |   450508 (16.92%) |
| 2021-05-16 | TPP             | 212696     |    14326 (6.74%) |     14274 (6.71%) |
| 2021-05-16 | Vision          | 342344     |   50937 (14.88%) |    50887 (14.86%) |

LINK: [https://github.com/rw251/.../conditions/acute-kidney-injury/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/acute-kidney-injury/1)

### Polycystic Kidney Disease
 
Codes from: https://www.opencodelists.org/ctv3/concept/PD11./
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.

The discrepancy between the patients counted when using the IDs vs using the clinical codes is due to these being new codes which haven't all filtered through to the main Graphnet dictionary. The prevalence range `0.17% - 0.21%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-04-05 | EMIS            | 2660237    |     4789 (0.18%) |      1252 (0.05%) |
| 2022-04-05 | TPP             | 212647     |      352 (0.17%) |       101 (0.05%) |
| 2022-04-05 | Vision          | 341912     |      716 (0.21%) |       156 (0.05%) |


LINK: [https://github.com/rw251/.../conditions/polycystic-kidney-disease/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/polycystic-kidney-disease/1)

### Family history of kidney disease

Developed manually from GMCR reference code table.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.01% - 0.09%` suggests that codes in this code set are rarely used.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-05-20 | EMIS            | 2662570    |   2512 (0.09%)   |    2512 (0.09%)   |
| 2022-05-20 | TPP             | 212696     |    112 (0.05%)   |     112 (0.05%)   |
| 2022-05-20 | Vision          | 342344     |     19 (0.01%)   |      19 (0.01%)   |

LINK: [https://github.com/rw251/.../conditions/family-history-kidney-disease/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/family-history-kidney-disease/1)

### End stage renal disease

Developed from https://clinicalcodes.rss.mhs.man.ac.uk/medcodes/article/30/codelist/res30-esrd/.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.09% - 0.20%` suggests that this code set is well defined.


| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-05-20 | EMIS            | 2662570    |   3148 (0.12%)   |    5124 (0.19%)   |
| 2022-05-20 | TPP             | 212696     |    184 (0.09%)   |     188 (0.09%)   |
| 2022-05-20 | Vision          | 342344     |    394 (0.12%)   |     690 (0.20%)   |

LINK: [https://github.com/rw251/.../conditions/end-stage-renal-disease/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/end-stage-renal-disease/1)

### Chronic kidney disease (CKD) - Stage 1 - diagnosis codes

Developed from https://getset.ga.

#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `% - %` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-04-06 | EMIS            | 2660237    |   (%)   |    (%)   |
| 2022-04-06 | TPP             | 212647     |   (%)   |    (%)   |
| 2022-04-06 | Vision          | 341912     |   (%)   |    (%)   |
LINK: [https://github.com/rw251/.../conditions/ckd-stage-1/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/ckd-stage-1/1)

### Chronic kidney disease stage 2

Codes taken from the general CKD code set
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `% - %` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-04-06 | EMIS            | 2660237    |   (%)   |    (%)   |
| 2022-04-06 | TPP             | 212647     |   (%)   |    (%)   |
| 2022-04-06 | Vision          | 341912     |   (%)   |    (%)   |
LINK: [https://github.com/rw251/.../conditions/ckd-stage-2/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/ckd-stage-2/1)

### Chronic kidney disease (CKD) stage 3

Codes taken from the general CKD code set
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `% - %` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-04-06 | EMIS            | 2660237    |   (%)   |    (%)   |
| 2022-04-06 | TPP             | 212647     |   (%)   |    (%)   |
| 2022-04-06 | Vision          | 341912     |   (%)   |    (%)   |
LINK: [https://github.com/rw251/.../conditions/ckd-stage-3/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/ckd-stage-3/1)

### Chronic kidney disease (CKD) stage 4 codes

Codes taken from the general CKD code set
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `% - %` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-04-06 | EMIS            | 2660237    |   (%)   |    (%)   |
| 2022-04-06 | TPP             | 212647     |   (%)   |    (%)   |
| 2022-04-06 | Vision          | 341912     |   (%)   |    (%)   |
LINK: [https://github.com/rw251/.../conditions/ckd-stage-4/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/ckd-stage-4/1)

### Chronic kidney disease (CKD) stage 5

Codes taken from the general CKD code set
#### Prevalence log

update

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `% - %` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-04-06 | EMIS            | 2660237    |   (%)   |    (%)   |
| 2022-04-06 | TPP             | 212647     |   (%)   |    (%)   |
| 2022-04-06 | Vision          | 341912     |   (%)   |    (%)   |
LINK: [https://github.com/rw251/.../conditions/ckd-stage-5/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/ckd-stage-5/1)

### Chronic kidney disease (CKD) diagnosis codes

Developed from https://getset.ga.
This list only includes CKD diagnosis codes (`XaNbn. - Chronic kidney disease stage 3ASerum cholesterol raised`), rather than codes which indicate that a patient might have CKD (`9Ni9.00 - Did not attend chronic kidney disease monitoring clinic`).
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `3.18% - 4.30%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-04-06 | EMIS            | 2660237    |  85992 (3.23%)   |   84567 (3.18%)   |
| 2022-04-06 | TPP             | 212647     |   9146 (4.30%)   |    9143 (4.30%)   |
| 2022-04-06 | Vision          | 341912     |  13406 (3.92%)   |   13375 (3.91%)   |
LINK: [https://github.com/rw251/.../conditions/chronic-kidney-disease/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/chronic-kidney-disease/1)

### Allergy to ACE inhibitors

This list contains any code that indicates an allergy to ACE inhibitors.
Developed manually from reference coding table in GMCR.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `%0.02 - 0.02%` suggests that this code set is rarely used but well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-09-20 | EMIS | 2446624 | 443 (0.0181%) | 444 (0.0181%) | 
| 2022-09-20 | TPP | 198062 | 31 (0.0157%) | 44 (0.0222%) | 
| 2022-09-20 | Vision | 325683 | 68 (0.0209%) | 68 (0.0209%) | 
LINK: [https://github.com/rw251/.../conditions/allergy-ace/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/allergy-ace/1)

### Allergy to angiotensin II receptor antagonists

This list contains any code that indicates an allergy to ARBs.
Developed manually from reference coding table in GMCR.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `%0.00 - 0.00%` suggests that this code set is rarely used but well defined.


| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-09-20 | EMIS | 2448811 | 105 (0.00429%) | 106 (0.00433%) | 
| 2022-09-20 | TPP | 198150 | 6 (0.00303%) | 8 (0.00404%) | 
| 2022-09-20 | Vision | 325836 | 15 (0.0046%) | 15 (0.0046%) | 

LINK: [https://github.com/rw251/.../conditions/allergy-arb/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/allergy-arb/1)

### Allergy to aspirin.

This list contains any code that indicates an allergy to aspirin.
Developed manually from reference coding table in GMCR.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `% - %` suggests that this code set is well defined.

update:

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2659647    |   2689 (0.11%)   |    2910 (0.11%)   |
| 2022-06-28 | TPP             | 212621     |     64 (0.03%)   |     284 (0.13%)   |
| 2022-06-28 | Vision          | 341774     |    407 (0.12%)   |      407 (0.12%)   |

LINK: [https://github.com/rw251/.../conditions/allergy-aspirin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/allergy-aspirin/1)

### Allergy to clopidogrel.

This list contains any code that indicates an allergy to clopidogrel.
Developed manually from reference coding table in GMCR.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `% - %` suggests that this code set is well defined.

update:

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2659647    |   2689 (0.11%)   |    2910 (0.11%)   |
| 2022-06-28 | TPP             | 212621     |     64 (0.03%)   |     284 (0.13%)   |
| 2022-06-28 | Vision          | 341774     |    407 (0.12%)   |      407 (0.12%)   |

LINK: [https://github.com/rw251/.../conditions/allergy-clopidogrel/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/allergy-clopidogrel/1)

### Allergy to statins

This list contains any code that indicates an allergy to statins.
Developed manually from reference coding table in GMCR.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `% - %` suggests that this code set is well defined.

update:

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2659647    |   2689 (0.11%)   |    2910 (0.11%)   |
| 2022-06-28 | TPP             | 212621     |     64 (0.03%)   |     284 (0.13%)   |
| 2022-06-28 | Vision          | 341774     |    407 (0.12%)   |      407 (0.12%)   |

LINK: [https://github.com/rw251/.../conditions/allergy-statin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/allergy-statin/1)

### Systemic Lupus Erythematosus
 
Codes from: https://www.opencodelists.org/codelist/opensafely/systemic-lupus-erythematosus-sle/2020-05-12/#full-list 
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.

The discrepancy between the patients counted when using the IDs vs using the clinical codes is due to these being new codes which haven't all filtered through to the main Graphnet dictionary. The prevalence range `0.09% - 0.12%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-04-05 | EMIS            | 2660237    |     2872 (0.11%) |      2872 (0.11%) |
| 2022-04-05 | TPP             | 212647     |      197 (0.09%) |       197 (0.09%) |
| 2022-04-05 | Vision          | 341912     |      416 (0.12%) |       412 (0.12%) |


LINK: [https://github.com/rw251/.../conditions/sle/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/sle/1)

### Gout

Codes from: https://www.opencodelists.org/ctv3/concept/X702o/
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.

The discrepancy between the patients counted when using the IDs vs using the clinical codes is due to these being new codes which haven't all filtered through to the main Graphnet dictionary. The prevalence range `2.13% - 2.28%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-04-05 | EMIS            | 2660237    |    56532 (2.13%) |     56532 (2.13%) |
| 2022-04-05 | TPP             | 212647     |     4853 (2.28%) |      4853 (2.28%) |
| 2022-04-05 | Vision          | 341912     |     7611 (2.23%) |      7611 (2.23%) |

LINK: [https://github.com/rw251/.../conditions/gout/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/gout/1)

### Haematuria 

Codes retrieved from manual search using terms 'blood in urine' and 'haematuria'
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.

The discrepancy between the patients counted when using the IDs vs using the clinical codes is due to these being new codes which haven't all filtered through to the main Graphnet dictionary. The prevalence range `2.46% - 5.66%` suggests that there may be TPP and EMIS codes missing.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-24 | EMIS            | 2658708    |    97714 (3.68%) |     90016 (3.39%) |
| 2022-03-24 | TPP             | 212645     |     5229 (2.46%) |      5224 (2.46%) |
| 2022-03-24 | Vision          | 341667     |    19339 (5.66%) |     19198 (5.66%) |

LINK: [https://github.com/rw251/.../conditions/haematuria/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/haematuria/1)

### Non-alcoholic Fatty Liver Disease

Codes from: https://www.opencodelists.org/ctv3/concept/J61y1/
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.

The discrepancy between the patients counted when using the IDs vs using the clinical codes is due to these being new codes which haven't all filtered through to the main Graphnet dictionary. The prevalence range `0.44% - 1.05%` is perhaps too wide to suggest that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-04-05 | EMIS            | 2660237    |    28021 (1.05%) |     28021 (1.05%) |
| 2022-04-05 | TPP             | 212647     |      943 (0.44%) |       943 (0.44%) |
| 2022-04-05 | Vision          | 341912     |     2724 (0.80%) |      2724 (0.80%) |


LINK: [https://github.com/rw251/.../conditions/non-alc-fatty-liver-disease/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/non-alc-fatty-liver-disease/1)

### Hormone replacement therapy

Codes indicating hormone replacement therapy has been carried out. Codes developed from GetSet.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `2.45% - 3.53%` is sufficiently narrow that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-05-24 | EMIS            | 2662570    |    80788 (3.03%) |     80787 (3.03%) |
| 2022-05-24 | TPP             | 212696     |     5221 (2.45%) |      5221 (2.45%) |
| 2022-05-24 | Vision          | 342344     |    12095 (3.53%) |     12095 (3.53%) |


LINK: [https://github.com/rw251/.../procedures/hormone-replacement-therapy/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/procedures/hormone-replacement-therapy/1)

### long covid

Any code indicating presence of long covid
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.55% - 13.96%` suggests missing codes from Vision and TPP practices.


| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-03-11 | EMIS            | 2600658    |  371790 (13.96%) |    20088 (0.75%)  |
| 2021-03-11 | TPP             | 210333     |     1179 (0.55%) |      141 (0.07%)  |
| 2021-03-11 | Vision          | 333251     |     4084 (1.19%) |      676 (0.20%)  |

LINK: [https://github.com/rw251/.../conditions/long-covid/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/long-covid/1)

### Menopause
 
Codes developed from GetSet. Includes any codes that mention menopause.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `3.99% - 5.37%` suggests that this code set is well defined.


| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-05-18 | EMIS            | 2662570    |   109014 (4.09%) |    109014 (4.09%) |
| 2022-05-18 | TPP             | 212696     |     8483 (3.99%) |      8483 (3.99%) |
| 2022-05-18 | Vision          | 342344     |    18374 (5.37%) |     18325 (5.35%) |

LINK: [https://github.com/rw251/.../conditions/menopause/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/menopause/1)

### Myeloma

This code set was created using getset. It includes any codes that indicate a patient has had myeloma at any point.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.03% - 0.03%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-16 | EMIS            | 2662570    |      833 (0.03%) |       833 (0.03%) |
| 2021-05-16 | TPP             | 212696     |       74 (0.03%) |        74 (0.03%) |
| 2021-05-16 | Vision          | 342344     |      106 (0.03%) |       106 (0.03%) |


LINK: [https://github.com/rw251/.../conditions/myeloma/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/myeloma/1)

### Obese

Codes indicating that patient is obese.

Codes taken from https://www.medrxiv.org/content/medrxiv/suppl/2020/05/19/2020.05.14.20101626.DC1/2020.05.14.20101626-1.pdf 
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `0.15% - 0.27%` suggests no issue between the GP systems, however it looks massively underestimated. Consider using BMI values also to find underweight patients. 


| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-03 | EMIS            |  2656596   |    7247 (0.27%)  |      7247 (0.27%) |
| 2022-03-03 | TPP             |   212503   |     466 (0.22%)  |       466 (0.22%) |
| 2022-03-03 | Vision          |   341299   |     511 (0.15%)  |       510 (0.15%) |
LINK: [https://github.com/rw251/.../patient/obese/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/obese/1)

### Osteoporosis
 
Codes from: https://clinicalcodes.rss.mhs.man.ac.uk/medcodes/article/1/codelist/osteoporosis/ 
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.

The discrepancy between the patients counted when using the IDs vs using the clinical codes is due to these being new codes which haven't all filtered through to the main Graphnet dictionary. The prevalence range `1.84% - 2.09%` suggests that this code set is well defined.


| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-05-05 | EMIS            | 2662112    |    48884 (1.84%) |     48884 (1.84%) |
| 2022-05-05 | TPP             | 212726     |     4450 (2.09%) |      4450 (2.09%) |
| 2022-05-05 | Vision          | 342310     |     6391 (1.87%) |      6391 (1.87%) |

LINK: [https://github.com/rw251/.../conditions/osteoporosis/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/osteoporosis/1)

### Coronary heart disease

This code set was developed from https://www.phpc.cam.ac.uk/pcu/research/research-groups/crmh/cprd_cam/codelists/v11/. Codes indicate a diagnosis of CHD.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `2.75% - 3.09%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-18 | EMIS            | 2662570    |   73153 (2.75%)  |    73156 (2.75%)  |
| 2021-05-18 | TPP             | 212696     |    6550 (3.08%)  |     6576 (3.09%)  |
| 2021-05-18 | Vision          | 342344     |   10209 (2.98%)  |    10209 (2.98%)  |

LINK: [https://github.com/rw251/.../conditions/coronary-heart-disease/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/coronary-heart-disease/1)

#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.

The discrepancy between the patients counted when using the IDs vs using the clinical codes is due to these being new codes which haven't all filtered through to the main Graphnet dictionary. The prevalence range `0.92% - 1.15%` is sufficiently narrow that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-03-11 | EMIS            | 2600658    |    23923 (0.92%) |     23923 (0.92%) |
| 2021-03-11 | TPP             | 210333     |     2415 (1.15%) |      2416 (1.15%) |
| 2021-03-11 | Vision          | 333251     |     3157 (0.95%) |      3157 (0.95%) |

LINK: [https://github.com/rw251/.../conditions/heart-failure/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/heart-failure/1)

### Stroke

Any code indicating a diagnosis of a stroke. Includes ischaemic and haemorrhagic strokes.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.

The discrepancy between the patients counted when using the IDs vs using the clinical codes is due to these being new codes which haven't all filtered through to the main Graphnet dictionary. The prevalence range `0.91% - 1.45%` suggests that this code set is well defined.

| Date        | Practice system | Population | Patients from ID | Patient from code |
| ----------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-05-12  | EMIS            | 2662570    |    24378 (0.92%) |     24359 (0.91%) |
| 2022-05-12  | TPP             | 212696     |     2441 (1.45%) |      2445 (1.45%) |
| 2022-05-12  | Vision          | 342344     |     3308 (0.97%) |      3307 (0.97%) |

LINK: [https://github.com/rw251/.../conditions/stroke/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/stroke/1)

### Transient ischaemic attach

Any code indicating a diagnosis of a transient ischaemic attack (TIA).
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.

The discrepancy between the patients counted when using the IDs vs using the clinical codes is due to these being new codes which haven't all filtered through to the main Graphnet dictionary. The prevalence range `0.78% - 0.99%` suggests that this code set is well defined.

| Date        | Practice system | Population | Patients from ID | Patient from code |
| ----------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-05-16  | EMIS            | 2662570    |    20798 (0.78%) |     20798 (0.78%) |
| 2022-05-16  | TPP             | 212696     |     1806 (0.85%) |      1811 (0.85%) |
| 2022-05-16  | Vision          | 342344     |     3409 (0.99%) |      3409 (0.99%) |

LINK: [https://github.com/rw251/.../conditions/tia/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/tia/1)

### Peripheral arterial disease

Any code indicating a diagnosis of peripheral arterial disease (PAD). Also known as peripheral vascular disease (PVD).
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.

The discrepancy between the patients counted when using the IDs vs using the clinical codes is due to these being new codes which haven't all filtered through to the main Graphnet dictionary. The prevalence range `0.58% - 0.62%` suggests that this code set is well defined.

| Date        | Practice system | Population | Patients from ID | Patient from code |
| ----------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-05-12  | EMIS            | 2662570    |    15457 (0.58%) |     15411 (0.58%) |
| 2022-05-12  | TPP             | 212696     |     1241 (0.58%) |      1242 (0.58%) |
| 2022-05-12  | Vision          | 342344     |     2125 (0.62%) |      2079 (0.61%) |

LINK: [https://github.com/rw251/.../conditions/peripheral-arterial-disease/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/peripheral-arterial-disease/1)

### Depression

Code set for patients with a diagnosis of depression.

Developed from www.opencodelists.org
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, 
we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.
Prevalence range: 21.09% - 22.83%

|    Date    | Practice system |  Population | Patients from ID | Patient from code |
| ---------- | ----------------| ------------| ---------------- | ----------------- |
| 2022-05-12 |	EMIS	       |  2662570    |	553650 (20.79%) | 560060 (21.03%)   |
| 2022-05-12 |	TPP	           |   212696    |   45884 (21.57%) |  45912 (21.59%)   |
| 2022-05-12 |	Vision	       |   342344    |   75709 (22.11%) |  73277 (21.40%)   |
LINK: [https://github.com/rw251/.../conditions/depression/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/depression/1)

### Schizophrenia and Psychosis

Code set for patients with a diagnosis of psychosis or schizophrenia.

Developed from www.opencodelists.org
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions.
Here is a log for this code set. The prevalence range (1.10% - 1.90%)

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------- | ----------------- |
| 2021-06-16 | EMIS            | 2608685    | 46695 (1.79%)    | 46695 (1.79%)     |
| 2021-06-16 | TPP             | 210985     | 28695 (1.10%)    | 28695 (1.10%)     |
| 2021-06-16 | Vision          | 335010     | 49565 (1.90%)    | 49565 (1.90%)     |

LINK: [https://github.com/rw251/.../conditions/schizophrenia-psychosis/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/schizophrenia-psychosis/1)

### Bipolar affective disorder

Code set for patients with a diagnosis of bipolar.

Developed from www.opencodelists.org
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. Prevalence range: 0.28% - 0.54%

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------- | ----------------- |
| 2021-06-30 | EMIS            | 2608685    | 14087 (0.54%)    | 14087 (0.54%)     |
| 2021-06-30 | TPP             | 210985     | 591 (0.28%)      | 591 (0.28%)       |
| 2021-06-30 | Vision          | 335010     | 1608 (0.48%)     | 1608 (0.48%)      |

LINK: [https://github.com/rw251/.../conditions/bipolar/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/bipolar/1)

### Eating disorders

Any code indicating a diagnosis of anorexia or bulimia or similar eating disorders.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.

The discrepancy between the patients counted when using the IDs vs using the clinical codes is due to these being new codes which haven't all filtered through to the main Graphnet dictionary. The prevalence range `0.42% - 0.84%` suggests that this code set is well defined.

| Date        | Practice system | Population | Patients from ID | Patient from code |
| ----------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-05-06  | EMIS            | 2662112    |    22407 (0.84%) |     22407 (0.84%) |
| 2022-05-06  | TPP             | 212726     |      885 (0.42%) |       885 (0.42%) |
| 2022-05-06  | Vision          | 342310     |     1999 (0.58%) |      1935 (0.57%) |

LINK: [https://github.com/rw251/.../conditions/eating-disorders/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/eating-disorders/1)

### Anxiety

Any code indicating a diagnosis of anxiety or other somatoform disorder.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.

The discrepancy between the patients counted when using the IDs vs using the clinical codes is due to these being new codes which haven't all filtered through to the main Graphnet dictionary. The prevalence range `18.23% - 18.77%` suggests that this code set is well defined.

| Date        | Practice system | Population | Patients from ID | Patient from code |
| ----------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-05-16  | EMIS            | 2662570    |  499713 (18.77%) |   502416 (18.87%) |
| 2022-05-16  | TPP             | 212696     |   38757 (18.22%) |    38769 (18.23%) |
| 2022-05-16  | Vision          | 342344     |   65130 (19.02%) |    64271 (18.77%)) |

LINK: [https://github.com/rw251/.../conditions/anxiety/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/anxiety/1)

### Self-harm Episodes

Defined as any episode of self-harm (except accidental) or attempted suicide

Readv2 code set supplied by the PI for RQ-029(Steeg) 

CTV3 and SNOMED code sets created using the Reference_Coding table in the GMCR, based on the Readv2 code set.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.

The discrepancy between the patients counted when using the IDs vs using the clinical codes is due to these being new codes which haven't all filtered through to the main Graphnet dictionary.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-04-14 | EMIS            | 2603707    |   102353 (3.97%) |     95004 (3.65%) |
| 2021-04-14 | TPP             | 210613     |     7591 (3.61%) |      7257 (3.45%) |
| 2021-04-14 | Vision          | 333786     |    12661 (3.79%) |     11975 (3.59%) |
LINK: [https://github.com/rw251/.../patient/selfharm-episodes/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/selfharm-episodes/1)

### Urinary tract infection

Codes taken from https://phenotypes.healthdatagateway.org/concepts/C2679/version/6771/detail/#home
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.

The discrepancy between the patients counted when using the IDs vs using the clinical codes is due to these being new codes which haven't all filtered through to the main Graphnet dictionary. The prevalence range `14.03% - 20.68%` suggests there are potential missing codes from TPP practices. Perhaps some Readv2 codes are missing.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-04-11 | EMIS            | 2660237    |  526473 (19.79%) |   523378 (19.67%) |
| 2022-04-11 | TPP             | 212647     |   29844 (14.03%) |     13227 (6.22%) |
| 2022-04-11 | Vision          | 341912     |   70709 (20.68%) |    70355 (20.58%) |

LINK: [https://github.com/rw251/.../conditions/uti/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/uti/1)

### Statins

This code set was based on the list of statins provided here: https://www.opencodelists.org/codelist/opensafely/statin-medication/2020-04-20/#full-list
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `9.89% - 10.86%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-04-04 | EMIS            | 2659647    |  269007 (10.11%) |   269007 (10.11%) |
| 2022-04-04 | TPP             |  212621    |   23123 (10.86%) |    23123 (10.86%) |
| 2022-04-04 | Vision          |  341774    |    33781 (9.89%) |     33781 (9.89%) |

LINK: [https://github.com/rw251/.../medications/statins/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/statins/1)

### ACE Inhibitors

This code set was originally created for the SMASH safe medication dashboard and has been validated in practice.

**_NB this code set is for ACE inhibitors AND angiotensin receptor blockers (ARBs). If you just want ACEIs please use v2._**
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `12.36% - 13.02%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-07 | EMIS            | 2605681    |  321934 (12.36%) |   321952 (12.36%) |
| 2021-05-07 | TPP             | 210817     |   27450 (13.02%) |    27450 (13.02%) |
| 2021-05-07 | Vision          | 334632     |   41775 (12.48%) |    41775 (12.48%) |

LINK: [https://github.com/rw251/.../medications/ace-inhibitor/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/ace-inhibitor/1)

### Aspirin

This code set was originally created for the SMASH safe medication dashboard and has been validated in practice.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `8.45% - 8.76%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-07 | EMIS            | 2605681    |   228074 (8.75%) |    228315 (8.76%) |
| 2021-05-07 | TPP             | 210817     |    18418 (8.74%) |     18418 (8.74%) |
| 2021-05-07 | Vision          | 334632     |    28276 (8.45%) |     28276 (8.45%) |

LINK: [https://github.com/rw251/.../medications/aspirin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/aspirin/1)

### Clopidogrel

This code set was originally created for the SMASH safe medication dashboard and has been validated in practice.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `2.62% - 2.86%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-07 | EMIS            | 2605681    |    72859 (2.80%) |     72859 (2.80%) |
| 2021-05-07 | TPP             | 210817     |     5515 (2.62%) |      5515 (2.62%) |
| 2021-05-07 | Vision          | 334632     |     9568 (2.86%) |      9568 (2.86%) |

LINK: [https://github.com/rw251/.../medications/clopidogrel/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/clopidogrel/1)

### SGLT2 inhibitors (gliflozins)

Any prescription of a SGLT2 inhibitor (gliflozin).
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `1.25% - 1.25%` for EMIS and Vision suggests that this code set is well defined. The figure of `0.90%` for TPP is lower than expected, but TPP have the smallest patient population so a degree of variability is to be expected.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-08-26 | EMIS            | 2623304    |    32817 (1.25%) |     32817 (1.25%) |
| 2021-08-26 | TPP             | 211610     |     1899 (0.90%) |      1899 (0.90%) |
| 2021-08-26 | Vision          | 337028     |     4211 (1.25%) |      4211 (1.25%) |

LINK: [https://github.com/rw251/.../medications/sglt2-inhibitors/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/sglt2-inhibitors/1)

### Nonsteroidal anti inflammatory drugs (NSAIDs) oral

This code set was originally created for the SMASH safe medication dashboard and has been validated in practice.

This code set only includes codes that indicates oral NSAIDs. It does not include codes that indicate cream or suppository NSAIDs.

**NB: This code set is intended to indicate only oral NSAIDs, NOT all NSAIDs. If you require all NSAIDs then this is not the code set for you.**
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `46.01% - 50.22%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-02-02 | EMIS            | 2652511    | 1295120 (48.82%) |  1295123 (48.82%) |
| 2022-02-02 | TPP             | 212213     |  106565 (50.22%) |   106565 (50.22%) |
| 2022-02-02 | Vision          | 340640     |  156717 (46.01%) |   156717 (46.01%) |
LINK: [https://github.com/rw251/.../medications/nsaids/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/nsaids/1)

### Hormone replacement therapy medications

This code set was created from BNF codes starting with 060401. A mapping from prod codes to BNF was used.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `9.73% - 12.27%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-06-28 | EMIS            | 2664831    |   259198 (9.73%) |  269103 (10.10%)  |
| 2022-06-28 | TPP             | 212907     |   26115 (12.27%) |    20152 (9.47%)  |
| 2022-06-28 | Vision          | 343146     |   34874 (10.16%) |    33414 (9.74%)  |
LINK: [https://github.com/rw251/.../medications/hormone-replacement-therapy-meds/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/hormone-replacement-therapy-meds/1)

### Female sex hormones medications

This code set was created from a BNF to SNOMED mapping file, using the following list from the PI for RQ041:

Estradiol (0604011G0)
Estradiol Acetate (0604011AB)
Estradiol and estriol with progestogen (0604011J0)
Estradiol, estriol and estrone (0604011H0)
Estradiol valerate (0604011K0)
Estradiol with progestogen (0604011L0)
Estriol (0604011M0)
Estropipate (0604011R0)
Ethinylestradiol (0604011D0)
Hydroxyprogesterone caproate (0604012J0)
Medroxyprogesterone acetate (0604012M0)
Norethisterone (0604012P0)
Oestrogens conjugated (0604011P0)
Oestrogens conjugated with bazedoxifene (0604011AD)
Oestrogens conjugated with progestogen (0604011Q0)
Progesterone (0604012S0)

#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `9.87% - 12.22%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-07-11 | EMIS            | 2664831    |   252718 (9.48%) |   263048 (9.87%)  |
| 2022-07-11 | TPP             | 212907     |   25361 (11.91%) |   26008 (12.22%)  |
| 2022-07-11 | Vision          | 343146     |    34128 (9.95%) |   35227 (10.27%)  |


LINK: [https://github.com/rw251/.../medications/female-sex-hormones/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/female-sex-hormones/1)

### Male sex hormones medications

This code set was created from a BNF to SNOMED mapping file, using the following list from the PI for RQ041:

Testosterone (0604020K0)
Testosterone (0604020K0)
Testosterone enantate (0604020M0)
Testosterone esters (0604020U0)
Testosterone propionate (0604020P0)
Testosterone undecanoate (0604020T0)
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `%0.21 - 0.28%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-07-11 | EMIS            | 2664831    |    7063 (0.27%)  |    7459 (0.28%)   |
| 2022-07-11 | TPP             | 212907     |     434 (0.20%)  |     456 (0.21%)   |
| 2022-07-11 | Vision          | 343146     |     848 (0.25%)  |     868 (0.25%)   |
LINK: [https://github.com/rw251/.../medications/male-sex-hormones/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/male-sex-hormones/1)

### Anabolic steroids medications

This code set was created from a BNF to SNOMED mapping file, using the following list from the PI for RQ041:

Androstanalone (0604030S0)
Nandrolone decanoate (0604030L0)
Oxandrolone (0604030P0)
Prasterone (0604030Q0)
Stanozolol (0604030T0)
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `%0 - 0%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-07-11 | EMIS            | 2664831    |    97 (0.00%)    |     99 (0.00%)    |
| 2022-07-11 | TPP             | 212907     |     4 (0.00%)    |      4 (0.00%)    |
| 2022-07-11 | Vision          | 343146     |    12 (0.00%)    |     12 (0.00%)    |

LINK: [https://github.com/rw251/.../medications/anabolic-steroids/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/anabolic-steroids/1)

### HbA1c

A patient's HbA1c as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (`1003671000000109 - Haemoglobin A1c level`). It does not include codes that indicate a patient's BMI (`165679005 - Haemoglobin A1c (HbA1c) less than 7%`) without giving the actual value.

**NB: This code set is intended to indicate a patient's HbA1c. If you need to know whether a HbA1c was recorded then please use v1 of the code set.**
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `44.93% - 50.88%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-07 | EMIS            | 2605681    | 1170688 (44.93%) |  1170688 (44.93%) |
| 2021-05-07 | TPP             | 210817     |   98972 (46.95%) |    98972 (46.95%) |
| 2021-05-07 | Vision          | 334632     |  170245 (50.88%) |   170245 (50.88%) |

LINK: [https://github.com/rw251/.../tests/hba1c/2](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/hba1c/2)

### Creatinine (level)

A patient's creatinine level as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (`44J3.00 - Serum creatinine`). It does not include codes that indicate a patient's creatinine (`44J3300 - Serum creatinine raised') without giving the actual value.

Codes taken from: https://www.medrxiv.org/content/medrxiv/suppl/2020/05/19/2020.05.14.20101626.DC1/2020.05.14.20101626-1.pdf
#### Prevalence log

**TABLE BELOW NEEDS UPDATING

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `4.91% - 6.24%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-10-13 | EMIS            | 26929848   | 1518402 (57.74%) | 1518402 (57.74%)  |
| 2021-10-13 | TPP             | 211812     |  125622 (59.31%) |  125622 (59.31%)  |
| 2021-10-13 | Vision          | 338205     |  207191 (61.26%) |  207191 (61.26%)  |
LINK: [https://github.com/rw251/.../tests/creatinine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/creatinine/1)

### Triglyceride (level)

A patient's triglyceride level as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (`44Q..00 - Serum triglycerides`). It does not include codes that indicate a patient's creatinine (`44Q3.00 - Serum triglycerides raised') without giving the actual value.

Codes taken from: https://www.medrxiv.org/content/medrxiv/suppl/2020/05/19/2020.05.14.20101626.DC1/2020.05.14.20101626-1.pdf
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `43.18% - 48.34%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-10-13 | EMIS            | 26929848   | 1135572 (43.18%) |  1135572 (43.18%) |
| 2021-10-13 | TPP             | 211812     |   99188 (46.82%) |    99188 (46.82%) |
| 2021-10-13 | Vision          | 338205     |  163502 (48.34%) |   163502 (48.34%) |

LINK: [https://github.com/rw251/.../tests/triglycerides/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/triglycerides/1)

### Urea

This code set only includes codes that are accompanied by a value (e.g. `X771P - Blood urea`).

Codes retrieved from: https://www.medrxiv.org/content/medrxiv/suppl/2020/05/19/2020.05.14.20101626.DC1/2020.05.14.20101626-1.pdf
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `%52.18 - 60.03%` suggests that this code set may be missing codes used by EMIS and TPP codes practices or overreporting for Vision practices.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-21 | EMIS            | 2658131    | 1386998 (52.18%) |  1386998 (52.18%) |
| 2022-03-21 | TPP             | 212662     |  111506 (52.43%) |   111506 (52.43%) |
| 2022-03-21 | Vision          | 341594     |  205044 (60.03%) |   205044 (60.03%) |

LINK: [https://github.com/rw251/.../tests/urea/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/urea/1)

### Vitamin D

A patient's vitamin D level as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (`44P6.00 - Serum LDL cholesterol level`). This only includes codes for total vitamin D level and does not use codes that measure a patient's D2 or D3 levels.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `4.30% - 14.10%` suggests that this code set is not well defined and there are TPP codes that are missing.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-11 | EMIS            | 2606497    |  282971 (10.86%) |   282971 (10.86%) |
| 2021-05-11 | TPP             | 210810     |     9056 (4.30%) |      9056 (4.30%) |
| 2021-05-11 | Vision          | 334784     |   47198 (14.10%) |    47198 (14.10%) |

LINK: [https://github.com/rw251/.../tests/vitamin-d/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/vitamin-d/1)

### Calcium

This code set only includes codes that are accompanied by a value (e.g. `XE2q3 - Serum calcium level`).

Codes retrieved from: https://www.medrxiv.org/content/medrxiv/suppl/2020/05/19/2020.05.14.20101626.DC1/2020.05.14.20101626-1.pdf
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `%39.42 - 48.98%` suggests that there may be missing codes from EMIS practices.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-28 | EMIS            | 2658708    | 1048189 (39.42%) |  1048189 (39.42%) |
| 2022-03-28 | TPP             | 212645     |  102117 (48.02%) |   102121 (48.02%) |
| 2022-03-28 | Vision          | 341667     |  167336 (48.98%) |   167336 (48.98%) |

LINK: [https://github.com/rw251/.../tests/calcium/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/calcium/1)

### Bicarbonate (level)

A patient's bicarbonate level as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (``).
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `% - %` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-05-25 | EMIS            | 2662112    |  269763 (10.13%) |   269763 (10.13%) |
| 2022-05-25 | TPP             | 212726     |   35976 (16.91%) |    35976 (16.91%) |
| 2022-05-25 | Vision          | 342310     |    10259 (3.00%) |     10259 (3.00%) |

LINK: [https://github.com/rw251/.../tests/bicarbonate/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/bicarbonate/1)

### Ferritin

A patient's ferritin as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (`XaItW - Plasma ferritin level`). It does not include codes that indicate a patient's ferritin without giving the actual value.

**NB: This code set is intended to only indicate a patient's ferritin values.**
#### Prevalence log
By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `33.38% - 39.65%` suggests that this code set is likely well defined.
| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-02-01 | EMIS            | 2652511    | 1006441 (37.94%) |  1006441 (37.94%) |
| 2022-02-01 | TPP             | 212213     |   70841 (33.38%) |    70841 (33.38%) |
| 2022-02-01 | Vision          | 340640     |  135059 (39.65%) |   135059 (39.65%) |
LINK: [https://github.com/rw251/.../tests/ferritin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/ferritin/1)

### Vitamin B12

This code set only includes codes that are accompanied by a value (e.g. `44Lc. - Vitamin B12 level`).

Codes retrieved manually using search term 'b12' and from http://www.wales.nhs.uk/sites3/documents/480/Dementia%20ruleset_v27.0W.pdf 
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `35.78% - 37.56%` suggests that there may be missing codes from EMIS practices.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-29 | EMIS            | 2659647    |  951699 (35.78%) |   951699 (35.78%) |
| 2022-03-29 | TPP             | 212621     |   79850 (37.56%) |    79850 (37.56%) |
| 2022-03-29 | Vision          | 341774     |  125916 (36.84%) |   125916 (36.84%) |

LINK: [https://github.com/rw251/.../tests/b12/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/b12/1)

### Folate

This code set only includes codes that are accompanied by a value (e.g. `42U5. - Serum folate`).

Codes retrieved manually using search term 'Folate' and from http://www.wales.nhs.uk/sites3/documents/480/Dementia%20ruleset_v27.0W.pdf 
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `%35.75 - 37.28%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-29 | EMIS            | 2659647    |  950888 (35.75%) |   950888 (35.75%) |
| 2022-03-29 | TPP             | 212621     |   78520 (36.93%) |    78520 (36.93%) |
| 2022-03-29 | Vision          | 341774     |  127399 (37.28%) |   127399 (37.28%) |

LINK: [https://github.com/rw251/.../tests/folate/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/folate/1)

### Haemoglobin

A patient's haemoglobin as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (`423.. - Haemoglobin estimation`). It does not include codes that indicate a patient's haemoglobin (`4235 - Haemoglobin low`) without giving the actual value.

Haemoglobin codes were retrieved from https://www.medrxiv.org/content/medrxiv/suppl/2020/05/19/2020.05.14.20101626.DC1/2020.05.14.20101626-1.pdf.

**NB: This code set is intended to only indicate a patient's haemoglobin values.**
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `59.66% - 62.03%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-02-01 | EMIS            | 2652511    | 1582390 (59.66%) |  1582391 (59.66%) |
| 2022-02-01 | TPP             | 212213     |  129224 (60.89%) |   129224 (60.89%) |
| 2022-02-01 | Vision          | 340640     |  211312 (62.03%) |   211312 (62.03%) |
LINK: [https://github.com/rw251/.../tests/haemoglobin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/haemoglobin/1)

### Systolic Blood pressure

Any indication that systolic blood pressure has been recorded for a patient. This code set only includes codes that are accompanied by a value (`2469. - O/E - Systolic BP reading`).

Blood pressure codes retrieved from [GetSet](https://getset.ga) and metadata available in this directory.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `64.46% - 67.00%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-10-13 | EMIS            | 26929848   | 1741342 (66.21%) |  1741342 (66.21%) |
| 2021-10-13 | TPP             | 211812     |  137571 (64.95%) |   137571 (64.95%) |
| 2021-10-13 | Vision          | 338205     |  208971 (61.79%) |   208971 (61.79%) |
LINK: [https://github.com/rw251/.../tests/systolic-blood-pressure/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/systolic-blood-pressure/1)

### Diastolic Blood pressure

Any diastolic blood pressure measurements, with values, that have been recorded for a patient.

Blood pressure codes retrieved from [GetSet](https://getset.ga) and metadata available in this directory.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `64.46% - 67.00%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-10-13 | EMIS            | 26929848   | 1741082 (66.21%) |  1741077 (66.21%) |
| 2021-10-13 | TPP             | 211812     |  137567 (64.95%) |   137567 (64.95%) |
| 2021-10-13 | Vision          | 338205     |  208958 (61.79%) |   208958 (61.79%) |
LINK: [https://github.com/rw251/.../tests/diastolic-blood-pressure/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/diastolic-blood-pressure/1)

### Urine protein/creatinine ratio

This code set includes codes that only includes codes that are accompanied by a value (e.g. `XaEMS - Urine protein/creatinine ratio`).
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `%1.30 - 2.41%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-05-11 | EMIS            | 2662570    | 	34640 (1.30%)  |  	34640 (1.30%)  |
| 2022-05-11 | TPP             | 212696     |    3493 (1.64%)  |     3493 (1.64%)  |
| 2022-05-11 | Vision          | 342344     |    8262 (2.41%)  |     8262 (2.41%)  |

LINK: [https://github.com/rw251/.../tests/urine-protein-creatinine-ratio/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/urine-protein-creatinine-ratio/1)

### Alanine aminotransferase

This code set includes codes that only includes codes that are accompanied by a value (e.g. `44G3.00 - Serum alanineaminotransferase level`).

Codes retrieved from: https://www.medrxiv.org/content/medrxiv/suppl/2020/05/19/2020.05.14.20101626.DC1/2020.05.14.20101626-1.pdf
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `%52.11 - 58.96%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-21 | EMIS            | 2658131    | 1385275 (52.11%) |  1385275 (52.11%) |
| 2022-03-21 | TPP             | 212662     |  124421 (58.51%) |   124421 (58.51%) |
| 2022-03-21 | Vision          | 341594     |  201405 (58.96%) |   201405 (58.96%) |

LINK: [https://github.com/rw251/.../tests/alanine-aminotransferase/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/alanine-aminotransferase/1)

### Albumin

This code set only includes codes that are accompanied by a value (e.g. `XE2eA	Serum albumin level`).

Codes retrieved from: https://www.medrxiv.org/content/medrxiv/suppl/2020/05/19/2020.05.14.20101626.DC1/2020.05.14.20101626-1.pdf
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `%56.99 - 60.46%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-21 | EMIS            | 2658131    | 1514957 (56.99%) |  1514957 (56.99%) |
| 2022-03-21 | TPP             | 212662     |  128583 (60.46%) |   128583 (60.46%) |
| 2022-03-21 | Vision          | 341594     |  205140 (60.05%) |   205140 (60.05%) |


LINK: [https://github.com/rw251/.../tests/albumin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/albumin/1)

### Alkaline phosphatase

This code set includes codes that only includes codes that are accompanied by a value (e.g. `44FZ.00 - Serum alkaline phosphatase NOS`).

Codes retrieved from: https://www.medrxiv.org/content/medrxiv/suppl/2020/05/19/2020.05.14.20101626.DC1/2020.05.14.20101626-1.pdf
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `%57.02 - 60.44%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-21 | EMIS            | 2658131    | 1515677 (57.02%) |  1515677 (57.02%) |
| 2022-03-21 | TPP             | 212662     |  128534 (60.44%) |   128534 (60.44%) |
| 2022-03-21 | Vision          | 341594     |  204911 (59.99%) |   204911 (59.99%) |


LINK: [https://github.com/rw251/.../tests/alkaline-phosphatase/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/alkaline-phosphatase/1)

### Total bilirubin

This code set only includes codes that are accompanied by a value (e.g. `44EC.00 - Serum total bilirubin level`).

Codes retrieved from: https://www.medrxiv.org/content/medrxiv/suppl/2020/05/19/2020.05.14.20101626.DC1/2020.05.14.20101626-1.pdf
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `%56.41 - 59.93%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-03-21 | EMIS            | 2658131    | 1499359 (56.41%) |  1499359 (56.41%) |
| 2022-03-21 | TPP             | 212662     |  127440 (59.93%) |   127440 (59.93%) |
| 2022-03-21 | Vision          | 341594     |  203870 (59.68%) |   203870 (59.68%) |

LINK: [https://github.com/rw251/.../tests/total-bilirubin/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/total-bilirubin/1)

### Gamma glutamyl transferase (GGT) level
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `%10.96 - 23.64%` suggests underreporting from Vision practices.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-05-11 | EMIS            | 2662570    |  539179 (20.25%) |   539179 (20.25%) |
| 2022-05-11 | TPP             | 212696     |   50284 (23.64%) |    50284 (23.64%) |
| 2022-05-11 | Vision          | 342344     |   37522 (10.96%) |    37522 (10.96%) |

LINK: [https://github.com/rw251/.../tests/gamma-glutamyl-transferase/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/gamma-glutamyl-transferase/1)

### Cholesterol

A patient's total cholesterol as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (`44P.. Serum cholesterol`). It does not include codes that indicate a patient's BMI (`44P3. - Serum cholesterol raised`) without giving the actual value.

**NB: This code set is intended to indicate a patient's total cholesterol. If you need to know whether a cholesterol was recorded then please use v1 of the code set.**
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `43.99% - 49.34%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-11 | EMIS            | 2606497    | 1146925 (44.00%) |  1146651 (43.99%) |
| 2021-05-11 | TPP             | 210810     |   98627 (46.78%) |    98627 (46.78%) |
| 2021-05-11 | Vision          | 334784     |  165186 (49.34%) |   165186 (49.34%) |

LINK: [https://github.com/rw251/.../tests/cholesterol/2](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/cholesterol/2)

### LDL Cholesterol

A patient's LDL cholesterol as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (`44P6.00 - Serum LDL cholesterol level`).
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `41.22% - 45.54%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-10-13 | EMIS            | 26929848   | 1102872 (41.94%) |  1102872 (41.94%) |
| 2021-10-13 | TPP             | 211812     |   91673 (43.28%) |    91673 (43.28%) |
| 2021-10-13 | Vision          | 338205     |  154055 (45.55%) |   154055 (45.55%) |

LINK: [https://github.com/rw251/.../tests/ldl-cholesterol/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/ldl-cholesterol/1)

### HDL Cholesterol

A patient's HDL cholesterol as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (`44P5.00 - Serum HDL cholesterol level`).
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `43.66% - 48.97%` suggests that this code set is likely well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-10-13 | EMIS            | 26929848   | 1168326 (44.42%) |  1168326 (44.42%) |
| 2021-10-13 | TPP             | 211812     |  100823 (47.60%) |   100823 (47.60%) |
| 2021-10-13 | Vision          | 338205     |  165935 (49.06%) |   165935 (49.06%) |

LINK: [https://github.com/rw251/.../tests/hdl-cholesterol/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/hdl-cholesterol/1)

### Urine blood test

This code set includes codes that indicate the result of blood in urine test. Posiive and negative results are included. When using this code set, your script will need to use a case_when statement, using the individual codes to classify which results are positive and which are negative.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `2.99% - 14.79%` suggests underreporting from Vision practices.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2022-05-19 | EMIS            | 2662570    | 393799 (14.79%)  |  383716 (14.41%)  |
| 2022-05-19 | TPP             | 212696     |  26798 (12.60%)  |   26763 (12.58%)  |
| 2022-05-19 | Vision          | 342344     |   10231 (2.99%)  |     9915 (2.90%)  |

LINK: [https://github.com/rw251/.../tests/urine-blood/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/tests/urine-blood/1)

### Hypertension

Any diagnosis of hypertension. Excludes hypertension in pregnancy, gestational hyptertension, pre-eclampsia. Based on the QOF code sets for hypertension.

Developed from https://getset.ga.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `12.55% - 12.95%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-07-14 | EMIS            | 2615750    |  328350 (12.55%) |  328339 ( 12.55%) |
| 2021-07-14 | TPP             | 211345     |   27363 (12.95%) |   27362 ( 12.95%) |
| 2021-07-14 | Vision          | 336528     |   43389 (12.89%) |   43389 ( 12.89%) |

LINK: [https://github.com/rw251/.../conditions/hypertension/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/hypertension/1)

### Diabetes mellitus

Code set for any diagnosis of diabetes mellitus (type I/type II/other).

Developed from https://getset.ga.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `5.96% - 6.05%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-07 | EMIS            | 2605681    |   155421 (5.96%) |    155398 (5.96%) |
| 2021-05-07 | TPP             | 210817     |    12743 (6.04%) |     12745 (6.05%) |
| 2021-05-07 | Vision          | 334632     |    20145 (6.02%) |     20145 (6.02%) |

LINK: [https://github.com/rw251/.../conditions/diabetes/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/diabetes/1)

#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.

The discrepancy between the patients counted when using the IDs vs using the clinical codes is due to these being new codes which haven't all filtered through to the main Graphnet dictionary. The prevalence range `1.19% - 26.55%` as of 11th March 2021 is too wide. However the prevalence figure of 26.55% from EMIS is close to public data and is likely ok.

**UPDATE - 25th March 2021** Missing Read and CTV3 codes were added to the vaccination list and now the range of `26.91% - 32.96%` seems reasonable. It should be noted that there is an approx 2 week lag between events occurring and them being entered in the record.

**UPDATE - 12th April 2021**, latest prevalence figures.

**UPDATE - 18th March 2022** There are now new codes for things like 3rd/4th/booster dose of vaccine. The latest prevalence shows `65.0% - 66.3%` have at least one vaccine code in the GP_Events table, and `88.2% - 93.6%` have at least one code for the vaccine in the GP_Medications table.

MED

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-12 | EMIS            | 2606497    |           0 (0%) |    379577(14.56%) |
| 2021-05-12 | TPP             | 210810     |           0 (0%) |       1637(0.78%) |
| 2021-05-12 | Vision          | 334784     |           0 (0%) |         93(0.03%) |
| 2022-03-18 | EMIS            | 2658131    |  1750506 (65.9%) |    1763420(66.3%) |
| 2022-03-18 | TPP             | 212662     |      8207 (3.9%) |     138285(65.0%) |
| 2022-03-18 | Vision          | 341594     |   122060 (35.7%) |     225844(66.1%) |

EVENT

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-12 | EMIS            | 2606497    |     4446 (0.17%) |  1101577 (42.26%) |
| 2021-05-12 | TPP             | 210810     |        7 (0.00%) |    87841 (41.66%) |
| 2021-05-12 | Vision          | 334784     |        1 (0.00%) |   142724 (42.63%) |
| 2022-03-18 | EMIS            | 2658131    |  2486786 (93.6%) |   1676951 (63.1%) |
| 2022-03-18 | TPP             | 212662     |   187463 (88.2%) |      7314 (3.44%) |
| 2022-03-18 | Vision          | 341594     |   312617 (91.5%) |     62512 (18.3%) |

LINK: [https://github.com/rw251/.../procedures/covid-vaccination/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/procedures/covid-vaccination/1)

### Body Mass Index (BMI)

A patient's BMI as recorded via clinical code and value. This code set only includes codes that are accompanied by a value (`22K.. - Body Mass Index`). It does not include codes that indicate a patient's BMI (`22K6. - Body mass index less than 20`) without giving the actual value.

**NB: This code set is intended to indicate a patient's BMI. If you need to know whether a BMI was recorded then please use v1 of the code set.**
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `63.96% - 79.69%` suggests that this code set is perhaps not well defined. However, as EMIS (80% of practices) and TPP (10% of practices) are close, it could simply be down to Vision automatically recording BMIs and therefore increasing the prevalence there.

**UPDATE** By looking at the prevalence of patients with a BMI code that also has a non-zero value the range becomes `62.48% - 64.93%` which suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2021-05-07 | EMIS            | 2605681    | 1709250 (65.60%) |  1709224 (65.60%) |
| 2021-05-07 | TPP             | 210817     |  134841 (63.96%) |   134835 (63.96%) |
| 2021-05-07 | Vision          | 334632     |  266612 (79.67%) |   266612 (79.67%) |
| 2021-05-11 | EMIS            | 2606497    | 1692442 (64.93%) |  1692422 (64.93%) |
| 2021-05-11 | TPP             | 210810     |  134652 (63.87%) |   134646 (63.87%) |
| 2021-05-11 | Vision          | 334784     |  209175 (62.48%) |   209175 (62.48%) |

LINK: [https://github.com/rw251/.../patient/bmi/2](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/bmi/2)

### Smoking status current

Any code suggestive that a patient is a current smoker.

LINK: [https://github.com/rw251/.../patient/smoking-status-current/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/smoking-status-current/1)

### Smoking status currently not

Any code suggestive that a patient is currently a non-smoker. This is different to the "never smoked" code set.

LINK: [https://github.com/rw251/.../patient/smoking-status-currently-not/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/smoking-status-currently-not/1)

### Smoking status ex

Any code suggestive that a patient is an ex-smoker.

LINK: [https://github.com/rw251/.../patient/smoking-status-ex/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/smoking-status-ex/1)


LINK: [https://github.com/rw251/.../patient/smoking-status-ex-trivial/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/smoking-status-ex-trivial/1)

### Smoking status never

Any code suggestive that a patient has never smoked. This is different to the "currently not" code set.

LINK: [https://github.com/rw251/.../patient/smoking-status-never/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/smoking-status-never/1)


LINK: [https://github.com/rw251/.../patient/smoking-status-passive/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/smoking-status-passive/1)


LINK: [https://github.com/rw251/.../patient/smoking-status-trivial/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/smoking-status-trivial/1)

### Alcohol non drinker

Any code suggestive that a patient is a non-drinker.

LINK: [https://github.com/rw251/.../patient/alcohol-non-drinker/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/alcohol-non-drinker/1)

### Alcohol light drinker

Any code suggestive that a patient is a light drinker.

LINK: [https://github.com/rw251/.../patient/alcohol-light-drinker/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/alcohol-light-drinker/1)

### Alcohol moderate drinker

Any code suggestive that a patient is a moderate drinker.

LINK: [https://github.com/rw251/.../patient/alcohol-moderate-drinker/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/alcohol-moderate-drinker/1)

### Alcohol heavy drinker

Any code suggestive that a patient is a heavy drinker.

LINK: [https://github.com/rw251/.../patient/alcohol-heavy-drinker/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/alcohol-heavy-drinker/1)

### Alcohol intake per week

Any code indicative of a patient's alcohol intake per week.
LINK: [https://github.com/rw251/.../patient/alcohol-weekly-intake/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/alcohol-weekly-intake/1)
# Clinical code sets

All code sets required for this analysis are available here: [https://github.com/rw251/.../041 - Kontopantelis/clinical-code-sets.csv](https://github.com/rw251/gm-idcr/tree/master/projects/041%20-%20Kontopantelis/clinical-code-sets.csv). Individual lists for each concept can also be found by using the links above.