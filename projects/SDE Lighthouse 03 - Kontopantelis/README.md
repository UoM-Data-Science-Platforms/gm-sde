_This file is autogenerated. Please do not edit._

# Understanding and addressing socio-economic inequality within the quality and safety of care and clinical outcomes for people living with dementia

## Summary

In the coming years, many more people will develop dementia (severe memory problems which affect day-to-day life). It is recommended that after diagnosis, care for people with dementia should mainly be community based, provided by the primary care team. There are recommendations for care that should be provided, ensuring it is high-quality and safe. These recommendations include an annual review, regular medication reviews, care planning and safe prescribing of medications. Few studies have looked at how recommended primary care processes and key outcomes, vary with socio-economic factors for people with dementia. Those that have, found evidence of inequalities in care and outcomes. The study's aim is to explore how post-diagnosis primary care and important outcomes for people with dementia vary with socio-economic factors and other markers of health disadvantage.

Data from the Greater Manchester Secure Data Environment (GM SDE) containing anonymised records for people with dementia, aged >18 years or older, diagnosed from 2020 onwards for comparative outcome analyses.

We will analyse how 'care processes' (including yearly reviews, carer reviews, care planning, medication prescribing) and 'outcomes' (including emergency hospital admissions, falls, fractures) vary with socio-economic factors. These factors will include the patient's socioeconomic status as measured by the Index of Multiple Deprivation (IMD, which summarises the level of deprivation of where the patients live), as well as other markers of health disadvantage including ethnicity, sex, rural/urban practice location and disabilities.

The results will evidence how care provided and important outcomes for people with dementia vary with the described socio-economic factors. Results will contribute to guidelines

## Table of contents

- [Introduction](#introduction)
- [Methodology](#methodology)
- [Reusable queries](#reusable-queries)
- [Clinical code sets](#clinical-code-sets)

## Introduction

The aim of this document is to provide full transparency for all parts of the data extraction process.
This includes:

- The methodology around how the data extraction process is managed and quality is maintained.
- A full list of all queries used in the extraction, and their associated objectives and assumptions.
- A full list of all clinical codes used for the extraction.

## Methodology

After each proposal is approved, a Research Data Engineer (RDE) works closely with the research team to establish precisely what data they require and in what format.
The RDE has access to the entire de-identified database and so builds up an expertise as to which projects are feasible and how best to extract the relevant data.
The RDE has access to a library of resusable SQL queries for common tasks, and sets of clinical codes for different phenotypes, built up from previous studies.
Prior to data extraction, the code is checked and signed off by another RDE.

## Reusable queries
  
This project did not require any reusable queries from the local library [https://github.com/rw251/gm-idcr/tree/master/shared/Reusable queries for data extraction](https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction).## Clinical code sets

This project required the following clinical code sets:

- delirium v1
- fracture v1
- falls v1
- social-care-referral v1
- safeguarding-referral v1
- donepezil v1
- galantamine v1
- rivastigmine v1
- memantine v1

Further details for each code set can be found below.

### Delirium 

Code set for patients with a code related to delirium

Developed from https://www.opencodelists.org/codelist/opensafely/symptoms-delirium/73fdec23/#full-list
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, 
we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set.
The prevalence range `%0.20 - 0.26%` suggests that this code set is well defined.

UPDATE:

|    Date    | Practice system |  Population | Patients from ID | Patient from code |
| ---------- | ----------------| ------------| ---------------- | ----------------- |
| 2023-09-14 | EMIS | 2463856 | 5994 (0.243%) | 5970 (0.242%) | 
| 2023-09-14 | TPP | 200590 | 516 (0.257%) | 516 (0.257%) | 
| 2023-09-14 | Vision | 332095 | 660 (0.199%) | 659 (0.198%) | 
LINK: [https://github.com/rw251/.../conditions/delirium/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/delirium/1)

### Fracture

Any code indicating a fracture. Based on read codes from: https://clinicalcodes.rss.mhs.man.ac.uk/medcodes/article/84/codelist/res84-fracture-codes/
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `19.6% - 23.2%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2023-12-13 | EMIS | 2515618 | 521295 (20.7%) | 521373 (20.7%) | 
| 2023-12-13 | TPP | 201264 | 47617 (23.7%) | 46765 (23.2%) | 
| 2023-12-13 | Vision | 334040 | 65475 (19.6%) | 65482 (19.6%) | 

LINK: [https://github.com/rw251/.../conditions/fracture/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/fracture/1)

### Falls

Codes taken from OpenCodelists https://www.opencodelists.org/codelist/opensafely/falls/2020-07-09/#full-list and https://www.opencodelists.org/codelist/nhsd-primary-care-domain-refsets/falls_cod/20200812/#full-list 
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `1.7% - 2.8%` suggests that this code set is well defined.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2023-10-25 | EMIS            | 2472595    |     54002 (2.2%) |      54015 (2.2%) |
| 2023-10-25 | TPP             | 200603     |      5597 (2.8%) |       5598 (2.8%) |
| 2023-10-25 | Vision          | 332447     |      5537 (1.7%) |       5545 (1.7%) |
LINK: [https://github.com/rw251/.../patient/falls/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/patient/falls/1)

### Social care referral

Codes indicating that patient had a referral to social care services. Data engineers should use this code set via the supplied codes rather than the linked IDs.
Created using getset:

{
  "includeTerms": [
    "social care plan",
    "hospital discharge notification to social care",
    "referral to social services department care manager",
    "signposting to social services",
    "referral to social services"
  ],
  "excludeTerms": [
    "child in need",
    "declined",
	"sending client copy"
  ],
  "terminology": "SNOMED CT",
  "version": "uk_sct2cl_29.3.0_20200610000001",
  "createdOn": "2023-11-30T11:00:13.255Z",
  "lastUpdated": "2023-11-30T11:00:13.255Z"
}

#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `%0.07 - 0.15%` suggests code set is well defined but not used often.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2023-11-30 | EMIS | 2514435 | 1786 (0.071%) | 1786 (0.071%) | 
| 2023-11-30 | TPP | 201265 | 293 (0.146%) | 293 (0.146%) | 
| 2023-11-30 | Vision | 333774 | 68 (0.0204%) | 68 (0.0204%) | 
LINK: [https://github.com/rw251/.../referrals/social-care-referral/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/referrals/social-care-referral/1)

### safeguarding referral

Codes indicating that patient had a referral to safeguarding services. Created using getset:
{
  "includeTerms": [
    "safeguarding referral",
    "reasons for referral: safeguarding",
    "adult safeguarding",
    "safeguard",
    "safeguarding intervention",
    "safeguarding report"
  ],
  "excludeTerms": [
    "children",
    "adult no longer safeguarding concern",
    "child",
    "sar",
    "missing adult"
  ],
  "terminology": "SNOMED CT",
  "version": "uk_sct2cl_29.3.0_20200610000001",
  "createdOn": "2023-11-30T15:26:28.260Z",
  "lastUpdated": "2023-11-30T15:26:28.260Z"
}

#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `%0.21 - 0.64%` suggests code set is well defined but not used often.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2023-11-30 | EMIS | 2514435 | 16095 (0.64%) | 15986 (0.636%) | 
| 2023-11-30 | TPP | 201265 | 425 (0.211%) | 424 (0.211%) | 
| 2023-11-30 | Vision | 333774 | 1338 (0.401%) | 1329 (0.398%) | 
LINK: [https://github.com/rw251/.../referrals/safeguarding-referral/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/referrals/safeguarding-referral/1)

### Donepezil

Any prescription of donepezil. Other names: Aricept.

Code set created from SNOMED searches and then mapped to Read v2, CTV3 and EMIS.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `XXX% - XXX%` suggests that this code set is well defined, but perhaps more frequently used in the TPP practices in GM.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2024-07-18 | EMIS            | xxxxxxx    |                  |                   |
| 2024-07-18 | TPP             | xxxxxxx    |                  |                   |
| 2024-07-18 | Vision          | xxxxxxx    |                  |                   |
#### Audit log

- Find_missing_codes last run 2024-07-18

LINK: [https://github.com/rw251/.../medications/donepezil/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/donepezil/1)

### Galantamine

Any prescription of galantamine. Other names: Acumor/Consion/Elmino/Gaalin/Galantex/Galsya/Galzemic/Gatalin/Gazylan/Lotprosin/Luventa/Reminyl/Zeebral.

Code set created from SNOMED searches and then mapped to Read v2, CTV3 and EMIS.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `XXX% - XXX%` suggests that this code set is well defined, but perhaps more frequently used in the TPP practices in GM.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2024-07-18 | EMIS            | xxxxxxx    |                  |                   |
| 2024-07-18 | TPP             | xxxxxxx    |                  |                   |
| 2024-07-18 | Vision          | xxxxxxx    |                  |                   |
#### Audit log

- Find_missing_codes last run 2024-07-18

LINK: [https://github.com/rw251/.../medications/galantamine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/galantamine/1)

### Rivastigmine

Any prescription of rivastigmine. Other names: Almuriva/Alzest/Eluden/Erastig/Exelon/Kerstipon/Nimvastid/Prometax/Rivatev/Somniton/Voleze/Zeyzelf.

Code set created from SNOMED searches and then mapped to Read v2, CTV3 and EMIS.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `XXX% - XXX%` suggests that this code set is well defined, but perhaps more frequently used in the TPP practices in GM.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2024-07-18 | EMIS            | xxxxxxx    |                  |                   |
| 2024-07-18 | TPP             | xxxxxxx    |                  |                   |
| 2024-07-18 | Vision          | xxxxxxx    |                  |                   |
#### Audit log

- Find_missing_codes last run 2024-07-18

LINK: [https://github.com/rw251/.../medications/rivastigmine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/rivastigmine/1)

### Memantine

Any prescription of memantine. Other names: Alzhok/Ebixa/Marixino/Maruxa/Nemdatine/Valios.

Code set created from SNOMED searches and then mapped to Read v2, CTV3 and EMIS.
#### Prevalence log

By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range `XXX% - XXX%` suggests that this code set is well defined, but perhaps more frequently used in the TPP practices in GM.

| Date       | Practice system | Population | Patients from ID | Patient from code |
| ---------- | --------------- | ---------- | ---------------: | ----------------: |
| 2024-07-18 | EMIS            | xxxxxxx    |                  |                   |
| 2024-07-18 | TPP             | xxxxxxx    |                  |                   |
| 2024-07-18 | Vision          | xxxxxxx    |                  |                   |
#### Audit log

- Find_missing_codes last run 2024-07-18

LINK: [https://github.com/rw251/.../medications/memantine/1](https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/memantine/1)
# Clinical code sets

All code sets required for this analysis are available here: [https://github.com/rw251/.../SDE Lighthouse 03 - Kontopantelis/clinical-code-sets.csv](https://github.com/rw251/gm-idcr/tree/master/projects/SDE%20Lighthouse%2003%20-%20Kontopantelis/clinical-code-sets.csv). Individual lists for each concept can also be found by using the links above.