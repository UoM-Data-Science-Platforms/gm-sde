<style>@page {
  margin: 1.5cm;
  size: A4 portrait;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif,
    Apple Color Emoji, Segoe UI Emoji;
  font-size: 16px;
  line-height: 1.5;
  word-wrap: break-word;
  margin-bottom: 0;
}

body > :last-child {
  margin-bottom: -1px;
  overflow: hidden;
}

h1 {
  font-size: 2em;
}

h2 {
  font-size: 1.5em;
}

h3 {
  font-size: 1.25em;
}

h4 {
  font-size: 1em;
}

h1,
h2,
h3,
h4 {
  margin-top: 24px;
  margin-bottom: 16px;
  font-weight: 600;
  line-height: 1.25;
}

b,
strong {
  font-weight: 600;
}

p {
  text-align: justify;
}

table {
  break-inside: avoid;
  table-layout: auto;
  border-collapse: collapse;
  text-indent: 0;
  border-color: inherit;
  width: 100%;
}

th {
  background: #f3f4f4;
}

th,
td {
  padding: 5px;
  border: 1px solid black;
}

code {
  padding: 0.2em 0.4em;
  margin: 0;
  font-family: ui-monospace, SFMono-Regular, SF Mono, Consolas, Liberation Mono, Menlo, monospace;
  font-size: 85%;
  background-color: #f3f4f4;
  border-radius: 6px;
  white-space: nowrap;
}

pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f6f8fa;
  border-radius: 6px;
}

pre > code {
  word-wrap: normal;
  white-space: pre-wrap;
  background-color: #f6f8fa;
}
</style><p><em>This file is autogenerated. Please do not edit.</em></p>
<h1><em>TODO</em> - project title</h1>
<h2>Summary</h2>
<p><strong>TODO</strong> edit <code>about.md</code> to insert a brief lay summary of the work.</p>
<h2>Table of contents</h2>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#methodology">Methodology</a></li>
<li><a href="#reusable-queries">Reusable queries</a></li>
<li><a href="#clinical-code-sets">Clinical code sets</a></li>
</ul>
<h2>Introduction</h2>
<p>The aim of this document is to provide full transparency for all parts of the data extraction process.
This includes:</p>
<ul>
<li>The methodology around how the data extraction process is managed and quality is maintained.</li>
<li>A full list of all queries used in the extraction, and their associated objectives and assumptions.</li>
<li>A full list of all clinical codes used for the extraction.</li>
</ul>
<h2>Methodology</h2>
<p>After each proposal is approved, a Research Data Engineer (RDE) works closely with the research team to establish precisely what data they require and in what format.
The RDE has access to the entire de-identified database and so builds up an expertise as to which projects are feasible and how best to extract the relevant data.
The RDE has access to a library of resusable SQL queries for common tasks, and sets of clinical codes for different phenotypes, built up from previous studies.
Prior to data extraction, the code is checked and signed off by another RDE.</p>
<h2>Reusable queries</h2>
<p>This project required the following reusable queries:</p>
<ul>
<li>Create table of patients</li>
</ul>
<p>Further details for each query can be found below.</p>
<h3>Create table of patients</h3>
<p>undefined</p>
<p><em>Input</em></p>
<pre><code>undefined
</code></pre>
<p><em>Output</em></p>
<pre><code>undefined
</code></pre>
<p><em>File</em>: <code>query-get-possible-patients.sql</code></p>
<p><em>Link</em>: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/Reusable%20queries%20for%20data%20extraction/query-get-possible-patients.sql">https://github.com/rw251/.../query-get-possible-patients.sql</a></p>
<h2>Clinical code sets</h2>
<p>This project required the following clinical code sets:</p>
<ul>
<li>menopause v1</li>
<li>cognitive-impairment v1</li>
<li>hot-flash v1</li>
<li>irregular-periods v1</li>
<li>musculoskeletal-pain v1</li>
<li>heavy-period v1</li>
<li>fertility-problems v1</li>
<li>corticosteroid v1</li>
<li>anabolic-steroids v1</li>
<li>biologic-immune-modulators v1</li>
<li>disease-modifying-med v1</li>
<li>male-sex-hormones v1</li>
<li>female-sex-hormones v1</li>
<li>contraceptives-emergency-pills v1</li>
<li>contraceptives-tablet v1</li>
<li>contraceptives-iud v1</li>
<li>contraceptives-injection v1</li>
<li>contraceptives-implant v1</li>
<li>cancer-referral v1</li>
<li>gynaecology-referral v1</li>
</ul>
<p>Further details for each code set can be found below.</p>
<h3>Menopause</h3>
<p>Codes developed from GetSet. Includes any codes that mention menopause.</p>
<h4>Prevalence log</h4>
<p>By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range <code>10.9% - 12.1%</code> suggests this code set is well defined.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Practice system</th>
<th>Population</th>
<th style="text-align:right">Patients from ID</th>
<th style="text-align:right">Patient from code</th>
</tr>
</thead>
<tbody>
<tr>
<td>2024-11-08</td>
<td>EMIS</td>
<td>2840867</td>
<td style="text-align:right">309732 (10.9%)</td>
<td style="text-align:right">162972 (5.74%)</td>
</tr>
<tr>
<td>2024-11-08</td>
<td>TPP</td>
<td>188690</td>
<td style="text-align:right">22897 (12.1%)</td>
<td style="text-align:right">22887 (12.1%)</td>
</tr>
<tr>
<td>2024-11-08</td>
<td>Vision</td>
<td>8669</td>
<td style="text-align:right">421 (4.86%)</td>
<td style="text-align:right">333 (3.84%)</td>
</tr>
<tr>
<td>LINK: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/conditions/menopause/1">https://github.com/rw251/.../conditions/menopause/1</a></td>
<td></td>
<td></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>
<h3>Cognitive impairment</h3>
<p>Any code indicating any kind of cognitive impairment or decline. Code set built from https://www.opencodelists.org/codelist/opensafely/symptoms-cognitive-impairment/7af0d32d/#full-list.</p>
<h4>Prevalence log</h4>
<p>By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range <code>3.8% - 4.3%</code> suggests that this code set is well defined.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Practice system</th>
<th>Population</th>
<th style="text-align:right">Patients from ID</th>
<th style="text-align:right">Patient from code</th>
</tr>
</thead>
<tbody>
<tr>
<td>2024-10-23</td>
<td>EMIS</td>
<td>2493415</td>
<td style="text-align:right">106492 (4.27%)</td>
<td style="text-align:right">79922 (3.21%)</td>
</tr>
<tr>
<td>2024-10-23</td>
<td>TPP</td>
<td>200976</td>
<td style="text-align:right">8246 (4.1%)</td>
<td style="text-align:right">8183 (4.07%)</td>
</tr>
<tr>
<td>2024-10-23</td>
<td>Vision</td>
<td>333066</td>
<td style="text-align:right">12598 (3.78%)</td>
<td style="text-align:right">7707 (2.31%)</td>
</tr>
<tr>
<td>LINK: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/symptoms/cognitive-impairment/1">https://github.com/rw251/.../symptoms/cognitive-impairment/1</a></td>
<td></td>
<td></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>
<h3>hot flash</h3>
<p>Any code indicating that the patient experienced a hot flash. Codes retrieved manually from Snomed browser: https://termbrowser.nhs.uk/</p>
<h4>Prevalence log</h4>
<p>By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range <code>1.8% - 2.5%</code> suggests that this code set is well defined.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Practice system</th>
<th>Population</th>
<th style="text-align:right">Patients from ID</th>
<th style="text-align:right">Patient from code</th>
</tr>
</thead>
<tbody>
<tr>
<td>2024-10-23</td>
<td>EMIS</td>
<td>2493415</td>
<td style="text-align:right">52142 (2.09%)</td>
<td style="text-align:right">52138 (2.09%)</td>
</tr>
<tr>
<td>2024-10-23</td>
<td>TPP</td>
<td>200976</td>
<td style="text-align:right">3644 (1.81%)</td>
<td style="text-align:right">3644 (1.81%)</td>
</tr>
<tr>
<td>2024-10-23</td>
<td>Vision</td>
<td>333066</td>
<td style="text-align:right">8294 (2.49%)</td>
<td style="text-align:right">8200 (2.46%)</td>
</tr>
<tr>
<td>LINK: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/symptoms/hot-flash/1">https://github.com/rw251/.../symptoms/hot-flash/1</a></td>
<td></td>
<td></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>
<h3>Irregular periods</h3>
<p>Any code indicating irregular periods.</p>
<h4>Prevalence log</h4>
<p>By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range <code>2.8% - 3.5%</code> suggests that this code set is well defined.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Practice system</th>
<th>Population</th>
<th style="text-align:right">Patients from ID</th>
<th style="text-align:right">Patient from code</th>
</tr>
</thead>
<tbody>
<tr>
<td>2024-10-23</td>
<td>EMIS</td>
<td>2493415</td>
<td style="text-align:right">86671 (3.48%)</td>
<td style="text-align:right">86671 (3.48%)</td>
</tr>
<tr>
<td>2024-10-23</td>
<td>TPP</td>
<td>200976</td>
<td style="text-align:right">5686 (2.83%)</td>
<td style="text-align:right">5686 (2.83%)</td>
</tr>
<tr>
<td>2024-10-23</td>
<td>Vision</td>
<td>333066</td>
<td style="text-align:right">11097 (3.33%)</td>
<td style="text-align:right">11097 (3.33%)</td>
</tr>
<tr>
<td>LINK: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/symptoms/irregular-periods/1">https://github.com/rw251/.../symptoms/irregular-periods/1</a></td>
<td></td>
<td></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>
<h3>Musculoskeletal pain</h3>
<p>Any code indicating any kind of musculoskeletal pain. Code set built by combining codes from https://clinicalcodes.rss.mhs.man.ac.uk/medcodes/article/175/codelist/res175-msk-pain/ and all descendants of (279069000 - musculoskeletal pain)</p>
<h4>Prevalence log</h4>
<p>By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range <code>36.6% - 38.6%</code> suggests that this code set is well defined.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Practice system</th>
<th>Population</th>
<th style="text-align:right">Patients from ID</th>
<th style="text-align:right">Patient from code</th>
</tr>
</thead>
<tbody>
<tr>
<td>2024-10-23</td>
<td>EMIS</td>
<td>2493415</td>
<td style="text-align:right">918394 (36.8%)</td>
<td style="text-align:right">915133 (36.7%)</td>
</tr>
<tr>
<td>2024-10-23</td>
<td>TPP</td>
<td>200976</td>
<td style="text-align:right">75716 (37.7%)</td>
<td style="text-align:right">75705 (37.7%)</td>
</tr>
<tr>
<td>2024-10-23</td>
<td>Vision</td>
<td>333066</td>
<td style="text-align:right">128600 (38.6%)</td>
<td style="text-align:right">128138 (38.5%)</td>
</tr>
</tbody>
</table>
<p>LINK: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/symptoms/musculoskeletal-pain/1">https://github.com/rw251/.../symptoms/musculoskeletal-pain/1</a></p>
<h3>Heavy period</h3>
<p>Any code indicating heavy period (Menorrhagia).</p>
<h4>Prevalence log</h4>
<p>By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range <code>5.3% - 5.5%</code> suggests that this code set is well defined.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Practice system</th>
<th>Population</th>
<th style="text-align:right">Patients from ID</th>
<th style="text-align:right">Patient from code</th>
</tr>
</thead>
<tbody>
<tr>
<td>2024-11-08</td>
<td>EMIS</td>
<td>2840867</td>
<td style="text-align:right">163634 (5.76%)</td>
<td style="text-align:right">155523 (5.47%)</td>
</tr>
<tr>
<td>2024-11-08</td>
<td>TPP</td>
<td>188690</td>
<td style="text-align:right">10303 (5.46%)</td>
<td style="text-align:right">9898 (5.25%)</td>
</tr>
<tr>
<td>2024-11-08</td>
<td>Vision</td>
<td>8669</td>
<td style="text-align:right">264 (3.05%)</td>
<td style="text-align:right">224 (2.58%)</td>
</tr>
<tr>
<td>LINK: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/symptoms/heavy-period/1">https://github.com/rw251/.../symptoms/heavy-period/1</a></td>
<td></td>
<td></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>
<h3>Fertility Problems</h3>
<p>Any code indicating pproblems with fertility. Code set built from all descendants of (27034006 | Fertility problem (finding)).</p>
<h4>Prevalence log</h4>
<p>By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range for TPP and EMIS <code>2.2% - 2.5%</code> suggests that this code set is well defined.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Practice system</th>
<th>Population</th>
<th style="text-align:right">Patients from ID</th>
<th style="text-align:right">Patient from code</th>
</tr>
</thead>
<tbody>
<tr>
<td>2024-11-07</td>
<td>EMIS</td>
<td>2823380</td>
<td style="text-align:right">70918 (2.51%)</td>
<td style="text-align:right">70855 (2.51%)</td>
</tr>
<tr>
<td>2024-11-07</td>
<td>TPP</td>
<td>188082</td>
<td style="text-align:right">4115 (2.19%)</td>
<td style="text-align:right">4115 (2.19%)</td>
</tr>
<tr>
<td>2024-11-07</td>
<td>Vision</td>
<td>8659</td>
<td style="text-align:right">171 (1.97%)</td>
<td style="text-align:right">144 (1.66%)</td>
</tr>
<tr>
<td>LINK: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/symptoms/fertility-problems/1">https://github.com/rw251/.../symptoms/fertility-problems/1</a></td>
<td></td>
<td></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>
<h3>Corticosteroids</h3>
<p>This code set was built from 'Corticosteroid medication' at https://nhs-drug-refset.pages.dev/</p>
<h4>Prevalence log</h4>
<p>By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range <code>17.3% - 19.9%</code> suggests that this code set is well defined.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Practice system</th>
<th>Population</th>
<th style="text-align:right">Patients from ID</th>
<th style="text-align:right">Patient from code</th>
</tr>
</thead>
<tbody>
<tr>
<td>2024-10-21</td>
<td>EMIS</td>
<td>2494756</td>
<td style="text-align:right">431383 (17.3%)</td>
<td style="text-align:right">431380 (17.3%)</td>
</tr>
<tr>
<td>2024-10-21</td>
<td>TPP</td>
<td>201090</td>
<td style="text-align:right">40018 (19.9%)</td>
<td style="text-align:right">40003 (19.9%)</td>
</tr>
<tr>
<td>2024-10-21</td>
<td>Vision</td>
<td>333236</td>
<td style="text-align:right">66253 (19.9%)</td>
<td style="text-align:right">66249 (19.9%)</td>
</tr>
<tr>
<td>LINK: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/corticosteroid/1">https://github.com/rw251/.../medications/corticosteroid/1</a></td>
<td></td>
<td></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>
<h3>Anabolic steroids medications</h3>
<p>This code set was created from a BNF to SNOMED mapping file, using the following list from the PI for RQ041:</p>
<p>Androstanalone (0604030S0)
Nandrolone decanoate (0604030L0)
Oxandrolone (0604030P0)
Prasterone (0604030Q0)
Stanozolol (0604030T0)</p>
<h4>Prevalence log</h4>
<p>By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range <code>%0 - 0%</code> suggests that this code set is well defined but rarely used.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Practice system</th>
<th>Population</th>
<th style="text-align:right">Patients from ID</th>
<th style="text-align:right">Patient from code</th>
</tr>
</thead>
<tbody>
<tr>
<td>2023-03-22</td>
<td>EMIS</td>
<td>2444244</td>
<td style="text-align:right">106 (0.00%)</td>
<td style="text-align:right">106 (0.00%)</td>
</tr>
<tr>
<td>2023-03-22</td>
<td>TPP</td>
<td>199056</td>
<td style="text-align:right">4 (0.00%)</td>
<td style="text-align:right">4 (0.00%)</td>
</tr>
<tr>
<td>2023-03-22</td>
<td>Vision</td>
<td>328968</td>
<td style="text-align:right">15 (0.00%)</td>
<td style="text-align:right">15 (0.00%)</td>
</tr>
<tr>
<td>2024-04-29</td>
<td>EMIS</td>
<td>2530242</td>
<td style="text-align:right">130 (0.00514%)</td>
<td style="text-align:right">130 (0.00514%)</td>
</tr>
<tr>
<td>2024-04-29</td>
<td>TPP</td>
<td>201774</td>
<td style="text-align:right">4 (0.00198%)</td>
<td style="text-align:right">4 (0.00198%)</td>
</tr>
<tr>
<td>2024-04-29</td>
<td>Vision</td>
<td>335373</td>
<td style="text-align:right">20 (0.00596%)</td>
<td style="text-align:right">20 (0.00596%)</td>
</tr>
</tbody>
</table>
<p>LINK: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/anabolic-steroids/1">https://github.com/rw251/.../medications/anabolic-steroids/1</a></p>
<h3>Biologic immune modulators</h3>
<p>This code set was created from the snomed codes at https://nhs-drug-refset.pages.dev/</p>
<h4>Prevalence log</h4>
<p>By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range <code>0.17% - 0.39%</code> suggests that this code set is relatively well defined but not often used in practice.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Practice system</th>
<th>Population</th>
<th style="text-align:right">Patients from ID</th>
<th style="text-align:right">Patient from code</th>
</tr>
</thead>
<tbody>
<tr>
<td>2024-11-04</td>
<td>EMIS</td>
<td>2826194</td>
<td style="text-align:right">10920 (0.386%)</td>
<td style="text-align:right">10925 (0.387%)</td>
</tr>
<tr>
<td>2024-11-04</td>
<td>TPP</td>
<td>188163</td>
<td style="text-align:right">327 (0.174%)</td>
<td style="text-align:right">315 (0.167%)</td>
</tr>
<tr>
<td>2024-11-04</td>
<td>Vision</td>
<td>8665</td>
<td style="text-align:right">0 (0%)</td>
<td style="text-align:right">0 (0%)</td>
</tr>
<tr>
<td>LINK: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/biologic-immune-modulators/1">https://github.com/rw251/.../medications/biologic-immune-modulators/1</a></td>
<td></td>
<td></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>
<h3>Disease modifying medications</h3>
<p>This code set was created from https://nhs-drug-refset.pages.dev/</p>
<h4>Prevalence log</h4>
<p>By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range <code>1.1% - 1.2%</code> suggests that this code set is well defined.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Practice system</th>
<th>Population</th>
<th style="text-align:right">Patients from ID</th>
<th style="text-align:right">Patient from code</th>
</tr>
</thead>
<tbody>
<tr>
<td>2024-10-21</td>
<td>EMIS</td>
<td>2494756</td>
<td style="text-align:right">26936 (1.08%)</td>
<td style="text-align:right">26936 (1.08%)</td>
</tr>
<tr>
<td>2024-10-21</td>
<td>TPP</td>
<td>201090</td>
<td style="text-align:right">2199 (1.09%)</td>
<td style="text-align:right">2199 (1.09%)</td>
</tr>
<tr>
<td>2024-10-21</td>
<td>Vision</td>
<td>333236</td>
<td style="text-align:right">4063 (1.22%)</td>
<td style="text-align:right">4063 (1.22%)</td>
</tr>
<tr>
<td>LINK: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/disease-modifying-med/1">https://github.com/rw251/.../medications/disease-modifying-med/1</a></td>
<td></td>
<td></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>
<h3>Male sex hormones medications</h3>
<p>This code set was created from a BNF to SNOMED mapping file, using the following list from the PI for RQ041:</p>
<p>Testosterone (0604020K0)
Testosterone (0604020K0)
Testosterone enantate (0604020M0)
Testosterone esters (0604020U0)
Testosterone propionate (0604020P0)
Testosterone undecanoate (0604020T0)</p>
<h4>Prevalence log</h4>
<p>By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range <code>%0.21 - 0.28%</code> suggests that this code set is well defined.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Practice system</th>
<th>Population</th>
<th style="text-align:right">Patients from ID</th>
<th style="text-align:right">Patient from code</th>
</tr>
</thead>
<tbody>
<tr>
<td>2022-07-11</td>
<td>EMIS</td>
<td>2664831</td>
<td style="text-align:right">7063 (0.27%)</td>
<td style="text-align:right">7459 (0.28%)</td>
</tr>
<tr>
<td>2022-07-11</td>
<td>TPP</td>
<td>212907</td>
<td style="text-align:right">434 (0.20%)</td>
<td style="text-align:right">456 (0.21%)</td>
</tr>
<tr>
<td>2022-07-11</td>
<td>Vision</td>
<td>343146</td>
<td style="text-align:right">848 (0.25%)</td>
<td style="text-align:right">868 (0.25%)</td>
</tr>
<tr>
<td>2023-10-04</td>
<td>EMIS</td>
<td>2465646</td>
<td style="text-align:right">7466 (0.303%)</td>
<td style="text-align:right">7466 (0.303%)</td>
</tr>
<tr>
<td>2023-10-04</td>
<td>TPP</td>
<td>200499</td>
<td style="text-align:right">450 (0.224%)</td>
<td style="text-align:right">450 (0.224%)</td>
</tr>
<tr>
<td>2023-10-04</td>
<td>Vision</td>
<td>332029</td>
<td style="text-align:right">1016 (0.306%)</td>
<td style="text-align:right">1016 (0.306%)</td>
</tr>
<tr>
<td>LINK: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/male-sex-hormones/1">https://github.com/rw251/.../medications/male-sex-hormones/1</a></td>
<td></td>
<td></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>
<h3>Female sex hormones medications</h3>
<p>This code set was created from a BNF to SNOMED mapping file, using the following list from the PI for RQ041:</p>
<p>Estradiol (0604011G0)
Estradiol Acetate (0604011AB)
Estradiol and estriol with progestogen (0604011J0)
Estradiol, estriol and estrone (0604011H0)
Estradiol valerate (0604011K0)
Estradiol with progestogen (0604011L0)
Estriol (0604011M0)
Estropipate (0604011R0)
Ethinylestradiol (0604011D0)
Hydroxyprogesterone caproate (0604012J0)
Medroxyprogesterone acetate (0604012M0)
Norethisterone (0604012P0)
Oestrogens conjugated (0604011P0)
Oestrogens conjugated with bazedoxifene (0604011AD)
Oestrogens conjugated with progestogen (0604011Q0)
Progesterone (0604012S0)</p>
<h4>Prevalence log</h4>
<p>By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range <code>9.87% - 12.22%</code> suggests that this code set is well defined.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Practice system</th>
<th>Population</th>
<th style="text-align:right">Patients from ID</th>
<th style="text-align:right">Patient from code</th>
</tr>
</thead>
<tbody>
<tr>
<td>2022-07-11</td>
<td>EMIS</td>
<td>2664831</td>
<td style="text-align:right">252718 (9.48%)</td>
<td style="text-align:right">263048 (9.87%)</td>
</tr>
<tr>
<td>2022-07-11</td>
<td>TPP</td>
<td>212907</td>
<td style="text-align:right">25361 (11.91%)</td>
<td style="text-align:right">26008 (12.22%)</td>
</tr>
<tr>
<td>2022-07-11</td>
<td>Vision</td>
<td>343146</td>
<td style="text-align:right">34128 (9.95%)</td>
<td style="text-align:right">35227 (10.27%)</td>
</tr>
<tr>
<td>2024-04-30</td>
<td>EMIS</td>
<td>2530927</td>
<td style="text-align:right">279172 (11%)</td>
<td style="text-align:right">279172 (11%)</td>
</tr>
<tr>
<td>2024-04-30</td>
<td>TPP</td>
<td>201816</td>
<td style="text-align:right">26343 (13.1%)</td>
<td style="text-align:right">26343 (13.1%)</td>
</tr>
<tr>
<td>2024-04-30</td>
<td>Vision</td>
<td>335411</td>
<td style="text-align:right">39856 (11.9%)</td>
<td style="text-align:right">39856 (11.9%)</td>
</tr>
</tbody>
</table>
<p>LINK: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/female-sex-hormones/1">https://github.com/rw251/.../medications/female-sex-hormones/1</a></p>
<h3>Contraceptives - emergency pills</h3>
<p>This code set was based on BNF codes (mapped to SNOMED) starting with 070305, following the approach used in: https://arro.anglia.ac.uk/id/eprint/707403/4/Walker_2022.pdf</p>
<h4>Prevalence log</h4>
<p>By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range <code>1.87% - 2.19%</code> suggests that this code set is well defined.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Practice system</th>
<th>Population</th>
<th style="text-align:right">Patients from ID</th>
<th style="text-align:right">Patient from code</th>
</tr>
</thead>
<tbody>
<tr>
<td>2022-04-05</td>
<td>EMIS</td>
<td>2662112</td>
<td style="text-align:right">57642 (2.17%)</td>
<td style="text-align:right">1019 (0.04%)</td>
</tr>
<tr>
<td>2022-04-05</td>
<td>TPP</td>
<td>212726</td>
<td style="text-align:right">4667 (2.19%)</td>
<td style="text-align:right">3336 (1.57%)</td>
</tr>
<tr>
<td>2022-04-05</td>
<td>Vision</td>
<td>342310</td>
<td style="text-align:right">6407 (1.87%)</td>
<td style="text-align:right">2497 (0.73%)</td>
</tr>
</tbody>
</table>
<p>LINK: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/contraceptives-emergency-pills/1">https://github.com/rw251/.../medications/contraceptives-emergency-pills/1</a></p>
<h3>Contraceptives - tablet</h3>
<p>This code set was based on BNF codes (mapped to SNOMED) starting with 070301, 070302,  following the approach used in https://arro.anglia.ac.uk/id/eprint/707403/4/Walker_2022.pdf. So this code set incorporates all codes in 'progesterone-only' and 'combined-hormonal' code sets, except those related to injections, IUDs or implants, which have been moved into their respective code set (e.g. contraceptives-implant)</p>
<p>NB this code also contains a small number of codes related to transdermal patches and vaginal delivery contraceptives.</p>
<h4>Prevalence log</h4>
<p>By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range <code>15.8% - 18.1%</code> suggests that this code set is well defined.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Practice system</th>
<th>Population</th>
<th style="text-align:right">Patients from ID</th>
<th style="text-align:right">Patient from code</th>
</tr>
</thead>
<tbody>
<tr>
<td>2024-10-22</td>
<td>EMIS</td>
<td>2493415</td>
<td style="text-align:right">393443 (15.8%)</td>
<td style="text-align:right">388851 (15.6%)</td>
</tr>
<tr>
<td>2024-10-22</td>
<td>TPP</td>
<td>200976</td>
<td style="text-align:right">36462 (18.1%)</td>
<td style="text-align:right">36045 (17.9%)</td>
</tr>
<tr>
<td>2024-10-22</td>
<td>Vision</td>
<td>333066</td>
<td style="text-align:right">57716 (17.3%)</td>
<td style="text-align:right">56988 (17.1%)</td>
</tr>
<tr>
<td>LINK: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/contraceptives-tablet/1">https://github.com/rw251/.../medications/contraceptives-tablet/1</a></td>
<td></td>
<td></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>
<h3>Intrauterine contraceptive device</h3>
<p>SNOMED codes retrieved by searching the BNF list for references to 'intrauterine'.</p>
<h4>Prevalence log</h4>
<p>By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range <code>1.8% - 2.3%</code> suggests that this code set is well defined.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Practice system</th>
<th>Population</th>
<th style="text-align:right">Patients from ID</th>
<th style="text-align:right">Patient from code</th>
</tr>
</thead>
<tbody>
<tr>
<td>2024-10-21</td>
<td>Vision</td>
<td>333236</td>
<td style="text-align:right">7577 (2.27%)</td>
<td style="text-align:right">7577 (2.27%)</td>
</tr>
<tr>
<td>2024-10-21</td>
<td>TPP</td>
<td>201090</td>
<td style="text-align:right">3613 (1.8%)</td>
<td style="text-align:right">3613 (1.8%)</td>
</tr>
<tr>
<td>2024-10-21</td>
<td>EMIS</td>
<td>2494756</td>
<td style="text-align:right">50242 (2.01%)</td>
<td style="text-align:right">50242 (2.01%)</td>
</tr>
<tr>
<td>LINK: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/contraceptives-iud/1">https://github.com/rw251/.../medications/contraceptives-iud/1</a></td>
<td></td>
<td></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>
<h3>Contraceptives - injection</h3>
<p>This code set was built manually from BNF list.</p>
<h4>Prevalence log</h4>
<p>By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range <code>2.47% - 3.21%</code> suggests that this code set is well defined.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Practice system</th>
<th>Population</th>
<th style="text-align:right">Patients from ID</th>
<th style="text-align:right">Patient from code</th>
</tr>
</thead>
<tbody>
<tr>
<td>2024-10-22</td>
<td>EMIS</td>
<td>2493415</td>
<td style="text-align:right">61479 (2.47%)</td>
<td style="text-align:right">61479 (2.47%)</td>
</tr>
<tr>
<td>2024-10-22</td>
<td>TPP</td>
<td>200976</td>
<td style="text-align:right">6460 (3.21%)</td>
<td style="text-align:right">6460 (3.21%)</td>
</tr>
<tr>
<td>2024-10-22</td>
<td>Vision</td>
<td>333066</td>
<td style="text-align:right">10398 (3.12%)</td>
<td style="text-align:right">10398 (3.12%)</td>
</tr>
<tr>
<td>LINK: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/contraceptives-injection/1">https://github.com/rw251/.../medications/contraceptives-injection/1</a></td>
<td></td>
<td></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>
<h3>Contraceptives - implant</h3>
<p>This code set was built manually from BNF list.</p>
<h4>Prevalence log</h4>
<p>By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range <code>1.24% - 1.48%</code> suggests that this code set is well defined.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Practice system</th>
<th>Population</th>
<th style="text-align:right">Patients from ID</th>
<th style="text-align:right">Patient from code</th>
</tr>
</thead>
<tbody>
<tr>
<td>2024-10-22</td>
<td>EMIS</td>
<td>2493415</td>
<td style="text-align:right">33547 (1.35%)</td>
<td style="text-align:right">33547 (1.35%)</td>
</tr>
<tr>
<td>2024-10-22</td>
<td>TPP</td>
<td>200976</td>
<td style="text-align:right">2486 (1.24%)</td>
<td style="text-align:right">2486 (1.24%)</td>
</tr>
<tr>
<td>2024-10-22</td>
<td>Vision</td>
<td>333066</td>
<td style="text-align:right">4922 (1.48%)</td>
<td style="text-align:right">4922 (1.48%)</td>
</tr>
<tr>
<td>LINK: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/medications/contraceptives-implant/1">https://github.com/rw251/.../medications/contraceptives-implant/1</a></td>
<td></td>
<td></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>
<h3>Referral for suspected cancer</h3>
<p>This list contains any code that indicates patient was referred to a cancer service.</p>
<p>Built from snomed browser for descendants of '199251000000107 | Fast track cancer referral (procedure)'</p>
<h4>Prevalence log</h4>
<p>By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range <code>%%</code> suggests overreporting from TPP practices.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Practice system</th>
<th>Population</th>
<th style="text-align:right">Patients from ID</th>
<th style="text-align:right">Patient from code</th>
</tr>
</thead>
<tbody>
<tr>
<td>LINK: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/referrals/cancer-referral/1">https://github.com/rw251/.../referrals/cancer-referral/1</a></td>
<td></td>
<td></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>
<h3>Referral to gynaecology or fertility service</h3>
<p>This list contains any code that indicates patient was seen in, or referred to, a gynaecology or fertility service.</p>
<p>Read codes from: https://www.ncbi.nlm.nih.gov/books/NBK568995/</p>
<h4>Prevalence log</h4>
<p>By examining the prevalence of codes (number of patients with the code in their record) broken down by clinical system, we can attempt to validate the clinical code sets and the reporting of the conditions. Here is a log for this code set. The prevalence range <code>%5.8 - 14.4%</code> suggests overreporting from TPP practices.</p>
<table>
<thead>
<tr>
<th>Date</th>
<th>Practice system</th>
<th>Population</th>
<th style="text-align:right">Patients from ID</th>
<th style="text-align:right">Patient from code</th>
</tr>
</thead>
<tbody>
<tr>
<td>2024-10-22</td>
<td>EMIS</td>
<td>2493415</td>
<td style="text-align:right">145127 (5.82%)</td>
<td style="text-align:right">145137 (5.82%)</td>
</tr>
<tr>
<td>2024-10-22</td>
<td>TPP</td>
<td>200976</td>
<td style="text-align:right">29015 (14.4%)</td>
<td style="text-align:right">29016 (14.4%)</td>
</tr>
<tr>
<td>2024-10-22</td>
<td>Vision</td>
<td>333066</td>
<td style="text-align:right">22616 (6.79%)</td>
<td style="text-align:right">22858 (6.86%)</td>
</tr>
<tr>
<td>LINK: <a href="https://github.com/rw251/gm-idcr/tree/master/shared/clinical-code-sets/referrals/gynaecology-referral/1">https://github.com/rw251/.../referrals/gynaecology-referral/1</a></td>
<td></td>
<td></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>
<h1>Clinical code sets</h1>
<p>All code sets required for this analysis are available here: <a href="https://github.com/rw251/gm-idcr/tree/master/projects/SDE%20Lighthouse%2009%20-%20Thompson/clinical-code-sets.csv">https://github.com/rw251/.../SDE Lighthouse 09 - Thompson/clinical-code-sets.csv</a>. Individual lists for each concept can also be found by using the links above.</p>
